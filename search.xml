<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>建站</title>
      <link href="/posts/hexo/butterfly/index.html"/>
      <url>/posts/hexo/butterfly/index.html</url>
      
        <content type="html"><![CDATA[<ul><li><a href="01.html">01.Hexo 框架 + Butterfly 主题打造个人博客</a></li><li><a href="02.html">02.Hexo 框架全局配置文件</a></li><li><a href="03.html">03.Butterfly 主题配置文件（一）</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> butterfly </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Butterfly 主题配置文件（二）</title>
      <link href="/posts/hexo/butterfly/04.html"/>
      <url>/posts/hexo/butterfly/04.html</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#%E4%B8%80%E4%B8%BB%E9%A1%B5%E8%AE%BE%E7%BD%AE">一、主页设置</a><ul><li><a href="#11-%E4%B8%BB%E9%A1%B5%E9%A1%B6%E9%83%A8%E5%9B%BE">1.1 主页顶部图</a></li><li><a href="#12-%E4%B8%BB%E9%A1%B5%E5%89%AF%E6%A0%87%E9%A2%98">1.2 主页副标题</a></li><li><a href="#13-%E4%B8%BB%E9%A1%B5%E6%96%87%E7%AB%A0%E5%B8%83%E5%B1%80">1.3 主页文章布局</a></li><li><a href="#14-%E4%B8%BB%E9%A1%B5%E6%96%87%E7%AB%A0%E8%8A%82%E9%80%89">1.4 主页文章节选</a></li></ul></li><li><a href="#%E4%BA%8C%E6%96%87%E7%AB%A0%E9%A1%B5%E8%AE%BE%E7%BD%AE">二、文章页设置</a><ul><li><a href="#21-%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95">2.1 文章目录</a></li><li><a href="#22-%E6%96%87%E7%AB%A0%E7%89%88%E6%9D%83">2.2 文章版权</a></li><li><a href="#23-%E6%96%87%E7%AB%A0%E6%89%93%E8%B5%8F">2.3 文章打赏</a></li><li><a href="#24-%E6%96%87%E7%AB%A0%E7%BC%96%E8%BE%91">2.4 文章编辑</a></li><li><a href="#25-%E7%9B%B8%E5%85%B3%E6%96%87%E7%AB%A0%E6%8E%A8%E8%8D%90">2.5 相关文章推荐</a></li><li><a href="#26-%E6%96%87%E7%AB%A0%E5%88%86%E9%A1%B5">2.6 文章分页</a></li><li><a href="#27-%E6%96%87%E7%AB%A0%E8%BF%87%E6%9C%9F%E6%8F%90%E9%86%92">2.7 文章过期提醒</a></li></ul></li><li><a href="#%E4%B8%89%E9%A1%B5%E8%84%9A%E8%AE%BE%E7%BD%AE">三、页脚设置</a></li><li><a href="#%E5%9B%9B%E4%BE%A7%E8%BE%B9%E6%A0%8F%E8%AE%BE%E7%BD%AE">四、侧边栏设置</a></li><li><a href="#%E4%BA%94%E5%8F%B3%E4%B8%8B%E8%A7%92%E6%8C%89%E9%92%AE">五、右下角按钮</a><ul><li><a href="#51-%E7%AE%80%E7%B9%81%E8%BD%AC%E6%8D%A2">5.1 简繁转换</a></li><li><a href="#52-%E9%98%85%E8%AF%BB%E6%A8%A1%E5%BC%8F">5.2 阅读模式</a></li><li><a href="#53-%E5%A4%9C%E9%97%B4%E6%A8%A1%E5%BC%8F">5.3 夜间模式</a></li><li><a href="#54-%E6%BB%9A%E5%8A%A8%E7%8A%B6%E6%80%81%E7%99%BE%E5%88%86%E6%AF%94">5.4 滚动状态百分比</a></li><li><a href="#55-%E5%8F%B3%E4%B8%8B%E8%A7%92%E6%8C%89%E9%92%AE%E6%8E%92%E5%BA%8F">5.5 右下角按钮排序</a></li></ul></li><li><a href="#%E5%85%AD%E5%85%A8%E5%B1%80%E8%AE%BE%E7%BD%AE">六、全局设置</a><ul><li><a href="#61-%E6%96%87%E7%AB%A0%E9%94%9A%E7%82%B9">6.1 文章锚点</a></li><li><a href="#62-%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0">6.2 图片描述</a></li><li><a href="#63-%E6%96%87%E7%AB%A0%E5%A4%8D%E5%88%B6">6.3 文章复制</a></li></ul></li><li><a href="#%E4%B8%83%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1">七、字数统计</a></li><li><a href="#%E5%85%AB%E8%AE%BF%E9%97%AE%E4%BA%BA%E6%95%B0">八、访问人数</a></li></ul><h1>一、主页设置</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># Index page settings</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br></pre></td></tr></table></figure><h2 id="1-1-主页顶部图">1.1 主页顶部图</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The top_img settings of home page</span></span><br><span class="line"><span class="comment"># default: top img - full screen, site info - middle</span></span><br><span class="line"><span class="comment"># The position of site info, eg: 300px/300em/300rem/10%</span></span><br><span class="line"><span class="attr">index_site_info_top:</span> <span class="comment"># 主页标题距离顶部距离，例：300px/300em/300rem/10%</span></span><br><span class="line"><span class="comment"># The height of top_img, eg: 300px/300em/300rem</span></span><br><span class="line"><span class="attr">index_top_img_height:</span> <span class="comment"># 主页 top_img 高度，例：300px/300em/ 300rem，不能使用百分比</span></span><br></pre></td></tr></table></figure><h2 id="1-2-主页副标题">1.2 主页副标题</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The subtitle on homepage（主页副标题）</span></span><br><span class="line"><span class="attr">subtitle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Typewriter Effect（打字效果）</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Customize typed.js</span></span><br><span class="line">  <span class="comment"># https://github.com/mattboldt/typed.js/#customization</span></span><br><span class="line">  <span class="attr">typed_option:</span></span><br><span class="line">  <span class="comment"># Source - Call the third-party service API (Chinese only) 调用第三方服务</span></span><br><span class="line">  <span class="comment"># It will show the source first, then show the content of sub 先显示 source 内容，然后显示 sub 内容</span></span><br><span class="line">  <span class="comment"># Choose: false/1/2/3</span></span><br><span class="line">  <span class="comment"># false - disable the function</span></span><br><span class="line">  <span class="comment"># 1 - hitokoto.cn</span></span><br><span class="line">  <span class="comment"># 2 - yijuzhan.com</span></span><br><span class="line">  <span class="comment"># 3 - jinrishici.com</span></span><br><span class="line">  <span class="attr">source:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># If you close the typewriter effect, the subtitle will only show the first line of sub</span></span><br><span class="line">  <span class="comment"># 如果关闭打字效果，副标题只会显示 sub 的第一行文字</span></span><br><span class="line">  <span class="attr">sub:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">人生苦短，我用</span> <span class="string">Python</span></span><br></pre></td></tr></table></figure><h2 id="1-3-主页文章布局">1.3 主页文章布局</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Article layout on the homepage</span></span><br><span class="line"><span class="comment"># 1: Cover on the left, info on the right 封面在左，信息在右</span></span><br><span class="line"><span class="comment"># 2: Cover on the right, info on the left 封面在右，信息在左</span></span><br><span class="line"><span class="comment"># 3: Cover and info alternate between left and right 封面和信息左右交替显示</span></span><br><span class="line"><span class="comment"># 4: Cover on top, info on the bottom 封面在上，信息在下</span></span><br><span class="line"><span class="comment"># 5: Info displayed on the cover 信息显示在封面上</span></span><br><span class="line"><span class="comment"># 6: Masonry layout - Cover on top, info on the bottom 瀑布流布局 - 封面在上，信息在下</span></span><br><span class="line"><span class="comment"># 7: Masonry layout - Info displayed on the cover 瀑布流布局 - 信息显示在封面上</span></span><br><span class="line"><span class="attr">index_layout:</span> <span class="number">3</span></span><br></pre></td></tr></table></figure><h2 id="1-4-主页文章节选">1.4 主页文章节选</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Display the article introduction on homepage</span></span><br><span class="line"><span class="comment"># 1: description 只显示 description</span></span><br><span class="line"><span class="comment"># 2: both (if the description exists, it will show description, or show the auto_excerpt) 优先选择 description，如果没有配置 description，则显示自动节选的内容</span></span><br><span class="line"><span class="comment"># 3: auto_excerpt (default) 只显示自动节选</span></span><br><span class="line"><span class="comment"># false: do not show the article introduction 不显示文章内容</span></span><br><span class="line"><span class="attr">index_post_content:</span></span><br><span class="line">  <span class="attr">method:</span> <span class="number">3</span></span><br><span class="line">  <span class="comment"># If you set method to 2 or 3, the length need to config</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">500</span> <span class="comment"># 自动节选的长度，只有在 method 为 2 或 3 的时候才需要配置 length</span></span><br></pre></td></tr></table></figure><ul><li><p>在主页有三种显示文章的方法 <code>method</code>：</p><ul><li><p>1: <code>description</code>，这种方法需要在文章的 <code>front-matter</code>，即 <code>Markdown</code> 文件的顶部，添加自定义的 <code>description</code>，<code>description</code> 的内容会被作为文章简介显示在主页。</p></li><li><p>2: <code>both</code>，如果文章存在 <code>description</code> 就按照方法 <code>1</code> 操作，否则按照方法 <code>3</code> 处理。</p></li><li><p>3: <code>auto_excerpt</code>，这种方法会自动从文章中截取 <code>length</code> 长度的文字作为文章简介显示到主页。</p></li></ul></li></ul><h1>二、文章页设置</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># Post Settings</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br></pre></td></tr></table></figure><h2 id="2-1-文章目录">2.1 文章目录</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># toc (目錄)</span></span><br><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span> <span class="comment"># 文章页是否显示 TOC</span></span><br><span class="line">  <span class="attr">page:</span> <span class="literal">false</span> <span class="comment"># 普通页面是否显示 TOC</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span> <span class="comment"># 是否显示章节数</span></span><br><span class="line">  <span class="attr">expand:</span> <span class="literal">false</span> <span class="comment"># 是否展开 TOC</span></span><br><span class="line">  <span class="comment"># Only for post</span></span><br><span class="line">  <span class="attr">style_simple:</span> <span class="literal">false</span> <span class="comment"># for post 简洁模式（侧边栏只显示 TOC，只对文章页有效）</span></span><br><span class="line">  <span class="attr">scroll_percent:</span> <span class="literal">true</span> <span class="comment"># 是否显示滚动进度百分比</span></span><br></pre></td></tr></table></figure><h2 id="2-2-文章版权">2.2 文章版权</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 是否启用版权声明</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">false</span> <span class="comment"># 是否进行文章 URL 解码</span></span><br><span class="line">  <span class="attr">author_href:</span> <span class="comment"># 作者链接</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span> <span class="comment"># 许可证类型</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span> <span class="comment"># 许可证链接</span></span><br></pre></td></tr></table></figure><ul><li><p>如果有文章（例：转载文章）不需要显示版权，可以在文章 <code>Front-matter</code> 中单独设置 <code>copyright:  false</code></p></li><li><p>支持对单独文章设置版权信息，可以在文章 <code>Front-matter</code> 中单独设置</p></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">copyright_author:</span> <span class="string">xxxx</span> </span><br><span class="line"><span class="attr">copyright_author_href:</span> <span class="string">https://xxxxxx.com</span> </span><br><span class="line"><span class="attr">copyright_url:</span> <span class="string">https://xxxxxx.com</span> </span><br><span class="line"><span class="attr">copyright_info:</span> <span class="string">此文章版权归</span> <span class="string">xxxxx</span> <span class="string">所有，如有转载，请注明来自原作者</span></span><br></pre></td></tr></table></figure><h2 id="2-3-文章打赏">2.3 文章打赏</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Sponsor/reward</span></span><br><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">text:</span></span><br><span class="line">  <span class="attr">QR_code:</span></span><br><span class="line">    <span class="comment"># - img: /img/wechat.jpg</span></span><br><span class="line">    <span class="comment">#   link:</span></span><br><span class="line">    <span class="comment">#   text: wechat</span></span><br><span class="line">    <span class="comment"># - img: /img/alipay.jpg</span></span><br><span class="line">    <span class="comment">#   link:</span></span><br><span class="line">    <span class="comment">#   text: alipay</span></span><br></pre></td></tr></table></figure><h2 id="2-4-文章编辑">2.4 文章编辑</h2><ul><li><p>文章标题旁显示编辑按钮，点击则跳转到对应的链接，直接修改源码。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Post edit</span></span><br><span class="line"><span class="comment"># Easily browse and edit blog source code online.</span></span><br><span class="line"><span class="attr">post_edit:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># url: https://github.com/user-name/repo-name/edit/branch-name/subdirectory-name/</span></span><br><span class="line">  <span class="comment"># For example: https://github.com/jerryc127/butterfly.js.org/edit/main/source/</span></span><br><span class="line">  <span class="attr">url:</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="2-5-相关文章推荐">2.5 相关文章推荐</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Related Articles</span></span><br><span class="line"><span class="attr">related_post:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Number of posts displayed</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span></span><br><span class="line">  <span class="comment"># Choose: created / updated</span></span><br><span class="line">  <span class="attr">date_type:</span> <span class="string">created</span> <span class="comment"># 文章日期显示創建日 / 更新日</span></span><br></pre></td></tr></table></figure><h2 id="2-6-文章分页">2.6 文章分页</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># post_pagination (分页)</span></span><br><span class="line"><span class="comment"># value: 1 || 2 || false</span></span><br><span class="line"><span class="comment"># 1: The &#x27;next post&#x27; will link to old post 下一篇显示的是旧文章</span></span><br><span class="line"><span class="comment"># 2: The &#x27;next post&#x27; will link to new post 下一篇显示的是新文章</span></span><br><span class="line"><span class="comment"># false: disable pagination 关闭分页按钮</span></span><br><span class="line"><span class="attr">post_pagination:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="2-7-文章过期提醒">2.7 文章过期提醒</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Displays outdated notice for a post（文章过期提醒）</span></span><br><span class="line"><span class="attr">noticeOutdate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">flat</span> <span class="comment"># style: simple/flat</span></span><br><span class="line">  <span class="attr">limit_day:</span> <span class="number">500</span> <span class="comment"># When will it be shown 距离更新时间多少天才显示文章过期提醒</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top</span> <span class="comment"># position: top/bottom # 文章过期提醒显示位置</span></span><br><span class="line">  <span class="attr">message_prev:</span> <span class="string">It</span> <span class="string">has</span> <span class="string">been</span> <span class="comment"># 天数之前的文字</span></span><br><span class="line">  <span class="attr">message_next:</span> <span class="string">days</span> <span class="string">since</span> <span class="string">the</span> <span class="string">last</span> <span class="string">update,</span> <span class="string">the</span> <span class="string">content</span> <span class="string">of</span> <span class="string">the</span> <span class="string">article</span> <span class="string">may</span> <span class="string">be</span> <span class="string">outdated.</span> <span class="comment"># 天数之后的文字</span></span><br></pre></td></tr></table></figure><h1>三、页脚设置</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># Footer Settings</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2024</span> <span class="comment"># 站点创建年份</span></span><br><span class="line">  <span class="attr">custom_text:</span> <span class="comment"># 自定义文本</span></span><br><span class="line">  <span class="attr">copyright:</span> <span class="literal">true</span> <span class="comment"># Copyright of theme and framework 框架和主题版权声明</span></span><br></pre></td></tr></table></figure><h1>四、侧边栏设置</h1><ul><li><p>可自定义侧边栏中显示的模块与显示的位置，也可以设置不显示侧边栏。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># Aside Settings</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 侧边栏是否开启</span></span><br><span class="line">  <span class="attr">hide:</span> <span class="literal">false</span> <span class="comment"># 侧边栏是否隐藏</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span> <span class="comment"># # 是否显示侧边栏开启/隐藏按钮</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile 移动设备是否显示侧边栏</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right 侧边栏位置</span></span><br><span class="line">  <span class="attr">display:</span> <span class="comment"># 是否显示归档 archive、标签 tag、分类 category</span></span><br><span class="line">    <span class="attr">archive:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">tag:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">category:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_author:</span> <span class="comment"># 作者信息</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">description:</span> </span><br><span class="line">    <span class="attr">button:</span></span><br><span class="line">      <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">Follow</span> <span class="string">Me</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://github.com/xxxxxx</span></span><br><span class="line">  <span class="attr">card_announcement:</span> <span class="comment"># 公告栏</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">content:</span> <span class="string">This</span> <span class="string">is</span> <span class="string">my</span> <span class="string">Blog</span></span><br><span class="line">  <span class="attr">card_recent_post:</span> <span class="comment"># 最近发布的文章</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">5</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort:</span> <span class="string">date</span> <span class="comment"># date or updated</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_newest_comments:</span> <span class="comment"># 最新评论</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">sort_order:</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">6</span> <span class="comment"># 显示评论数目，0 为全部</span></span><br><span class="line">    <span class="comment"># Unit: mins, save data to localStorage</span></span><br><span class="line">    <span class="attr">storage:</span> <span class="number">10</span> <span class="comment"># 保存时间，单位分钟，保存到本地存储，避免每次刷新都重新请求数据</span></span><br><span class="line">    <span class="attr">avatar:</span> <span class="literal">true</span> <span class="comment"># 是否显示头像</span></span><br><span class="line">  <span class="attr">card_categories:</span> <span class="comment"># 分类栏</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">expand:</span> <span class="string">none</span> <span class="comment"># none/true/false</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_tags:</span> <span class="comment"># 标签栏</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">40</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">color:</span> <span class="literal">false</span> <span class="comment"># 是否显示标签颜色</span></span><br><span class="line">    <span class="attr">orderby:</span> <span class="string">random</span> <span class="comment"># Order of tags, random/name/length</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_archives:</span> <span class="comment"># 归档栏</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">monthly</span> <span class="comment"># yearly or monthly</span></span><br><span class="line">    <span class="attr">format:</span> <span class="string">MMMM</span> <span class="string">YYYY</span> <span class="comment"># eg: YYYY年MM月</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">-1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_post_series:</span> <span class="comment"># 显示系列名称</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># The title shows the series name</span></span><br><span class="line">    <span class="attr">series_title:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># Order by title or date</span></span><br><span class="line">    <span class="attr">orderBy:</span> <span class="string">&#x27;date&#x27;</span></span><br><span class="line">    <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">-1</span></span><br><span class="line">  <span class="attr">card_webinfo:</span> <span class="comment"># 网站信息</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">post_count:</span> <span class="literal">true</span> <span class="comment"># 是否显示文章数量</span></span><br><span class="line">    <span class="attr">last_push_date:</span> <span class="literal">true</span> <span class="comment"># 是否显示最近更新时间</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">    <span class="comment"># Time difference between publish date and now</span></span><br><span class="line">    <span class="comment"># Formal: Month/Day/Year Time or Year/Month/Day Time</span></span><br><span class="line">    <span class="comment"># Leave it empty if you don&#x27;t enable this feature</span></span><br><span class="line">    <span class="attr">runtime_date:</span> <span class="number">2024</span><span class="string">/11/07</span> <span class="number">00</span><span class="string">:00:00</span> <span class="comment"># 显示网站运行时间，开启格式一定要是 Month/Day/Year Time 或 Year/Month/Day Time</span></span><br></pre></td></tr></table></figure></li></ul><h1>五、右下角按钮</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># Bottom right button</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br></pre></td></tr></table></figure><h2 id="5-1-简繁转换">5.1 简繁转换</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Conversion between Traditional and Simplified Chinese (簡繁轉換)</span></span><br><span class="line"><span class="attr">translate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># The text of a button</span></span><br><span class="line">  <span class="attr">default:</span> <span class="string">繁</span> <span class="comment"># 默认按钮显示文字（网站是简体，应设置为&#x27;default: 繁&#x27;）</span></span><br><span class="line">  <span class="comment"># the language of website (1 - Traditional Chinese/ 2 - Simplified Chinese）</span></span><br><span class="line">  <span class="attr">defaultEncoding:</span> <span class="number">2</span> <span class="comment"># 网站默认语言，1 - 繁体中文，2 - 简体中文</span></span><br><span class="line">  <span class="comment"># Time delay</span></span><br><span class="line">  <span class="attr">translateDelay:</span> <span class="number">0</span> <span class="comment"># 延迟翻译的时间， 单位 ms，默认 0 无延迟</span></span><br><span class="line">  <span class="comment"># The text of the button when the language is Simplified Chinese</span></span><br><span class="line">  <span class="attr">msgToTraditionalChinese:</span> <span class="string">&#x27;繁&#x27;</span> <span class="comment"># 当网站语言是简体中文时，按钮显示的文字</span></span><br><span class="line">  <span class="comment"># The text of the button when the language is Traditional Chinese</span></span><br><span class="line">  <span class="attr">msgToSimplifiedChinese:</span> <span class="string">&#x27;簡&#x27;</span> <span class="comment"># 当网站语言是繁体中文时，按钮显示的文字</span></span><br></pre></td></tr></table></figure><h2 id="5-2-阅读模式">5.2 阅读模式</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Read Mode (閲讀模式)</span></span><br><span class="line"><span class="attr">readmode:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="5-3-夜间模式">5.3 夜间模式</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Dark Mode</span></span><br><span class="line"><span class="attr">darkmode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Toggle Button to switch dark/light mode</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span> <span class="comment"># dark 和 light 两种模式切换按钮</span></span><br><span class="line">  <span class="comment"># Switch dark/light mode automatically (自動切換 dark mode和 light mode)</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 1  Following System Settings, if the system doesn&#x27;t support dark mode, it will switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 2  Switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: false</span></span><br><span class="line">  <span class="attr">autoChangeMode:</span> <span class="literal">false</span> <span class="comment"># 自动切換 dark mode 和 light mode</span></span><br><span class="line">  <span class="comment"># Set the light mode time. The value is between 0 and 24. If not set, the default value is 6 and 18</span></span><br><span class="line">  <span class="attr">start:</span> <span class="comment"># 8</span></span><br><span class="line">  <span class="attr">end:</span> <span class="comment"># 22</span></span><br></pre></td></tr></table></figure><h2 id="5-4-滚动状态百分比">5.4 滚动状态百分比</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># show scroll percent in scroll-to-top button</span></span><br><span class="line"><span class="attr">rightside_scroll_percent:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="5-5-右下角按钮排序">5.5 右下角按钮排序</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work</span></span><br><span class="line"><span class="comment"># Choose: readmode,translate,darkmode,hideAside,toc,chat,comment</span></span><br><span class="line"><span class="comment"># Don&#x27;t repeat the same value</span></span><br><span class="line"><span class="attr">rightside_item_order:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Default: readmode,translate,darkmode,hideAside</span></span><br><span class="line">  <span class="attr">hide:</span></span><br><span class="line">  <span class="comment"># Default: toc,chat,comment</span></span><br><span class="line">  <span class="attr">show:</span></span><br></pre></td></tr></table></figure><h1>六、全局设置</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># Global Settings</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br></pre></td></tr></table></figure><h2 id="6-1-文章锚点">6.1 文章锚点</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># anchor</span></span><br><span class="line"><span class="attr">anchor:</span></span><br><span class="line">  <span class="comment"># when you scroll, the URL will update according to header id.</span></span><br><span class="line">  <span class="attr">auto_update:</span> <span class="literal">false</span> <span class="comment"># 开启文章锚点后，在文章页滚动时，文章链接会根据标题 ID 进行更新</span></span><br><span class="line">  <span class="comment"># Click the headline to scroll and update the anchor</span></span><br><span class="line">  <span class="attr">click_to_scroll:</span> <span class="literal">false</span> <span class="comment"># 开启后，点击标题链接可以实现跳转并更新锚点</span></span><br></pre></td></tr></table></figure><h2 id="6-2-图片描述">6.2 图片描述</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># figcaption (圖片描述文字)</span></span><br><span class="line"><span class="attr">photofigcaption:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li><p>开启图片 <code>Figcaption</code> 描述文字显示，将优先显示图片的 <code>title</code> 属性，然后是 <code>alt</code> 属性。</p><ul><li><p>图片中的 <code>title</code> 属性是在鼠标在移动到元素上的文本提示。</p></li><li><p>图片中的 <code>alt</code> 属性是在图片不能正常显示时出现的文本提示。</p></li></ul></li></ul><h2 id="6-3-文章复制">6.3 文章复制</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># copy settings</span></span><br><span class="line"><span class="comment"># copyright: Add the copyright information after copied content (複製的內容後面加上版權信息)</span></span><br><span class="line"><span class="attr">copy:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 是否开启网站复制权限</span></span><br><span class="line">  <span class="comment"># Add the copyright information after copied content</span></span><br><span class="line">  <span class="attr">copyright:</span> <span class="comment"># 复制的内容后面加上版权信息</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span> <span class="comment"># 是否开启复制版权信息添加</span></span><br><span class="line">    <span class="attr">limit_count:</span> <span class="number">30</span> <span class="comment"># 当复制文字大于这个字数限制时，将在复制的内容后面加上版权信息</span></span><br></pre></td></tr></table></figure><h1>七、字数统计</h1><ul><li><p>在博客目录下安装插件：<code>npm install hexo-wordcount --save</code></p></li><li><p>修改配置文件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Need to install the hexo-wordcount plugin</span></span><br><span class="line"><span class="comment"># wordcount (字數統計)</span></span><br><span class="line"><span class="comment"># see https://butterfly.js.org/posts/ceeb73f/#字數統計</span></span><br><span class="line"><span class="attr">wordcount:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Display the word count of the article in post meta</span></span><br><span class="line">  <span class="attr">post_wordcount:</span> <span class="literal">true</span> <span class="comment"># 单篇文章字数</span></span><br><span class="line">  <span class="comment"># Display the time to read the article in post meta</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span> <span class="comment"># 单篇文章阅读时长</span></span><br><span class="line">  <span class="comment"># Display the total word count of the website in aside&#x27;s webinfo</span></span><br><span class="line">  <span class="attr">total_wordcount:</span> <span class="literal">true</span> <span class="comment"># 全站总字数</span></span><br></pre></td></tr></table></figure></li></ul><h1>八、访问人数</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># busuanzi count for PV / UV in site</span></span><br><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span> <span class="comment"># 总访客数</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span> <span class="comment"># 总访问量</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span> <span class="comment"># 总阅读量</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> butterfly </category>
          
      </categories>
      
      
        <tags>
            
            <tag> butterfly </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Butterfly 主题配置文件（一）</title>
      <link href="/posts/hexo/butterfly/03.html"/>
      <url>/posts/hexo/butterfly/03.html</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#%E4%B8%80%E5%AF%BC%E8%88%AA%E6%A0%8F%E8%AE%BE%E7%BD%AE">一、导航栏设置</a></li><li><a href="#%E4%BA%8C%E5%9B%BE%E6%A0%87%E7%9B%B8%E5%85%B3">二、图标相关</a><ul><li><a href="#21-%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4-iconfont">2.1 阿里巴巴 iconfont</a></li></ul></li><li><a href="#%E4%B8%89%E4%BB%A3%E7%A0%81%E7%9B%B8%E5%85%B3">三、代码相关</a></li><li><a href="#%E5%9B%9B%E7%A4%BE%E4%BA%A4%E5%9B%BE%E6%A0%87">四、社交图标</a></li><li><a href="#%E4%BA%94%E5%9B%BE%E7%89%87%E8%AE%BE%E7%BD%AE">五、图片设置</a><ul><li><a href="#51-%E7%BD%91%E7%AB%99%E5%9B%BE%E6%A0%87">5.1 网站图标</a></li><li><a href="#52-%E5%A4%B4%E5%83%8F">5.2 头像</a></li><li><a href="#53-%E5%8E%BB%E6%8E%89%E6%89%80%E6%9C%89%E9%A1%B5%E9%9D%A2%E9%A1%B6%E9%83%A8%E5%9B%BE">5.3 去掉所有页面顶部图</a></li><li><a href="#54-%E9%BB%98%E8%AE%A4%E9%A1%B6%E9%83%A8%E5%9B%BE">5.4 默认顶部图</a></li><li><a href="#55-%E4%B8%BB%E9%A1%B5%E9%A1%B6%E9%83%A8%E5%9B%BE">5.5 主页顶部图</a></li><li><a href="#55-%E5%BD%92%E6%A1%A3%E9%A1%B5%E9%9D%A2%E9%A1%B6%E9%83%A8%E5%9B%BE">5.5 归档页面顶部图</a></li><li><a href="#56-%E6%A0%87%E7%AD%BE%E9%A1%B5%E9%9D%A2%E9%A1%B6%E9%83%A8%E5%9B%BE">5.6 标签页面顶部图</a></li><li><a href="#57-%E5%88%86%E7%B1%BB%E9%A1%B5%E9%9D%A2%E9%A1%B6%E9%83%A8%E5%9B%BE">5.7 分类页面顶部图</a></li><li><a href="#58-%E9%A1%B5%E8%84%9A%E8%83%8C%E6%99%AF%E5%9B%BE">5.8 页脚背景图</a></li><li><a href="#59-%E7%BD%91%E7%AB%99%E8%83%8C%E6%99%AF%E5%9B%BE">5.9 网站背景图</a></li><li><a href="#510-%E6%96%87%E7%AB%A0%E7%9A%84%E5%B0%81%E9%9D%A2">5.10 文章的封面</a></li><li><a href="#511-%E6%9B%BF%E6%8D%A2%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E7%9A%84%E5%9B%BE%E7%89%87">5.11 替换无法显示的图片</a></li><li><a href="#512-404-%E9%A1%B5%E9%9D%A2">5.12 404 页面</a></li><li><a href="#513-%E6%96%87%E7%AB%A0-meta-%E6%98%BE%E7%A4%BA">5.13 文章 meta 显示</a></li></ul></li></ul><hr><ul><li><p>在 <code>\themes\butterfly</code> 文件夹中找到主题配置文件 <code>_config.yml</code>，复制到博客目录并重命名为 <code>_config.butterfly.yml</code>。</p></li><li><p><code>hexo</code> 中，博客目录下的 <code>_config.butterfly.yml</code> 文件优先级高于 <code>\themes\butterfly\_config.yml</code>。</p></li></ul><h1>一、导航栏设置</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># Navigation Settings</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="attr">nav:</span></span><br><span class="line">  <span class="comment"># Navigation bar logo image</span></span><br><span class="line">  <span class="attr">logo:</span> <span class="comment"># 网站的 logo</span></span><br><span class="line">  <span class="attr">display_title:</span> <span class="literal">true</span> <span class="comment"># 是否显示网站标题</span></span><br><span class="line">  <span class="comment"># Whether to fix navigation bar</span></span><br><span class="line">  <span class="attr">fixed:</span> <span class="literal">false</span> <span class="comment"># 是否固定导航栏</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Menu 目錄</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="comment"># Home: / || fas fa-home</span></span><br><span class="line">  <span class="comment"># List||fas fa-list:</span></span><br><span class="line">  <span class="comment">#   Music: /music/ || fas fa-music</span></span><br><span class="line">  <span class="comment">#   Movie: /movies/ || fas fa-video</span></span><br></pre></td></tr></table></figure><ul><li><p><code>menu</code> 菜单栏中的每一项都指向单独的子页面，对应于 <code>soure</code> 中的一个文件夹（不包含 <code>_posts</code> 和 <code>_draft</code> 文件夹）。</p><ul><li><p>可以使用 <code>hexo new page &lt;title&gt;</code> 指令创建页面，例：<code>hexo new page about</code> 创建 <code>About</code> 界面，同时在 <code>soure</code> 中自动生成一个 <code>about</code> 文件夹。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/03/01.png" width=520/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/03/02.png" width=399/></div></li><li><p><code>About</code>、<code>Link</code>、<code>List</code> 等属于普通页面，直接创建即可。但是 <code>archives</code>（归档）、<code>tags</code>（标签）、<code>categories</code>（分类）等属于特殊页面，需要其他操作。</p><ul><li><p>归档页面（<code>archives</code>）是内建的，不需要手动创建。</p></li><li><p>标签页面（<code>tags</code>）在使用 <code>hexo new page tags</code> 创建后，需要在 <code>tags</code> 文件夹的 <code>index.md</code> 文件开头加上 <code>type: &quot;tags&quot;</code> 和 <code>layout: &quot;tags&quot;</code>，内容留空。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title<span class="punctuation">:</span> tags</span><br><span class="line">date<span class="punctuation">:</span> <span class="number">2024</span><span class="number">-01</span><span class="number">-07</span> <span class="number">15</span><span class="punctuation">:</span><span class="number">47</span><span class="punctuation">:</span><span class="number">56</span></span><br><span class="line">type<span class="punctuation">:</span> <span class="string">&quot;tags&quot;</span></span><br><span class="line">layout<span class="punctuation">:</span> <span class="string">&quot;tags&quot;</span></span><br><span class="line">---</span><br></pre></td></tr></table></figure></li><li><p>分类页面（<code>categories</code>）采用相同操作。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title<span class="punctuation">:</span> categories</span><br><span class="line">date<span class="punctuation">:</span> <span class="number">2024</span><span class="number">-01</span><span class="number">-07</span> <span class="number">15</span><span class="punctuation">:</span><span class="number">58</span><span class="punctuation">:</span><span class="number">01</span></span><br><span class="line">type<span class="punctuation">:</span> <span class="string">&quot;categories&quot;</span></span><br><span class="line">layout<span class="punctuation">:</span> <span class="string">&quot;categories&quot;</span></span><br><span class="line">---</span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li><p>创建新菜单选项的格式如下：</p><ul><li><p>单菜单：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">菜单名称</span>&#125;<span class="string">:</span> &#123;<span class="string">路径</span>&#125; <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-&#123;图标名称&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>二级菜单：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">一级菜单名称</span>&#125; <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-&#123;图标名称&#125;:</span></span><br><span class="line">  &#123;<span class="string">二级菜单名称</span>&#125;<span class="string">:</span> &#123;<span class="string">路径</span>&#125; <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-&#123;图标名称&#125;</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h1>二、图标相关</h1><ul><li><code>Butterfly</code> 主题默认支持 <code>font-awesome</code> 图标，但是 <code>font-awesome</code> 对于国内网站的支持不足，建议使用阿里巴巴 <code>iconfont</code>。</li></ul><h2 id="2-1-阿里巴巴-iconfont">2.1 阿里巴巴 iconfont</h2><ul><li><p>阿里巴巴矢量图标管理、交流平台：<a href="https://www.iconfont.cn/">https://www.iconfont.cn/</a>，进入到图标库。</p></li><li><p>找到自己需要的图标之后点击添加入库。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/03/03.png" width=299/></div></li><li><p>选择购物车，然后添加至项目。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/03/04.png" width=333/>Q</div></li><li><p>如果不存在已有项目，需要创建新项目。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/03/05.png" width=333/>Q</div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/03/06.png" width=333/>Q</div></li><li><p>创建新项目后，选择 <code>Font class</code>，然后点击查看在线链接。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/03/07.png" width=777/>Q</div><ul><li><p>如果暂无代码，需要手动生成。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/03/08.png" width=666/>Q</div></li><li><p>进入生成的链接，并复制生成的代码（注：<code>点此复制代码</code> 只是复制了链接地址而不是代码本身）。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/03/09.png" width=699/>Q</div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/03/10.png" width=799/>Q</div></li></ul></li><li><p>在 <code>butterfly</code> 主题文件夹（<code>\themes\butterfly</code>）下的 <code>\source\css</code> 文价夹中新建 <code>font.css</code> 文件，将复制的代码粘贴进去。</p></li><li><p>在 <code>butterfly</code> 主题文件 <code>_config.butterfly.yml</code> 中引入 <code>font.css</code> 文件。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/03/11.png" width=699/>Q</div></li><li><p>在 <code>_config.butterfly.yml</code> 文件中使用格式 <code>iconfont icon名</code> 即可使用 <code>iconfont</code> 图标，其中 <code>icon名</code> 可以在 <code>iconfont</code> 项目中复制。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/03/12.png" width=599/>Q</div></li></ul><h1>三、代码相关</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># Code Blocks Settings</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="attr">code_blocks:</span></span><br><span class="line">  <span class="comment"># Code block theme: darker / pale night / light / ocean / false</span></span><br><span class="line">  <span class="attr">theme:</span> <span class="string">light</span> <span class="comment"># 代码主题</span></span><br><span class="line">  <span class="attr">macStyle:</span> <span class="literal">false</span> <span class="comment"># 是否使用 Mac 风格</span></span><br><span class="line">  <span class="comment"># Code block height limit (unit: px)</span></span><br><span class="line">  <span class="attr">height_limit:</span> <span class="literal">false</span> <span class="comment"># 代码块高度限制（单位: px）, 可填写数字或 false</span></span><br><span class="line">  <span class="attr">word_wrap:</span> <span class="literal">false</span> <span class="comment"># 是否自动换行</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Toolbar</span></span><br><span class="line">  <span class="attr">copy:</span> <span class="literal">true</span> <span class="comment"># 是否显示复制按钮</span></span><br><span class="line">  <span class="attr">language:</span> <span class="literal">true</span> <span class="comment"># 是否显示语言标签</span></span><br><span class="line">  <span class="comment"># true: shrink the code blocks | false: expand the code blocks | none: expand code blocks and hide the button</span></span><br><span class="line">  <span class="attr">shrink:</span> <span class="literal">false</span> <span class="comment"># true: 收缩代码块 / false: 展开代码块/ none: 展开代码块并隐藏按钮</span></span><br><span class="line">  <span class="attr">fullpage:</span> <span class="literal">false</span> <span class="comment"># 是否全屏显示代码块</span></span><br></pre></td></tr></table></figure><h1>四、社交图标</h1><ul><li><p>书写格式：<code>图标名：url || 描述性文字 || color</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Social media links</span></span><br><span class="line"><span class="comment"># Formal:</span></span><br><span class="line"><span class="comment">#   icon: link || the description || color</span></span><br><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">iconfont icon-GitHub:</span> <span class="string">https://github.com/xindong2020</span> <span class="string">||</span> <span class="string">Github</span> <span class="string">||</span> <span class="string">&#x27;#24292e&#x27;</span></span><br><span class="line">  <span class="attr">iconfont icon-icon-email:</span> <span class="string">mailto:641743220@qq.com</span> <span class="string">||</span> <span class="string">Email</span> <span class="string">||</span> <span class="string">&#x27;#4a7dbe&#x27;</span></span><br></pre></td></tr></table></figure></li></ul><h1>五、图片设置</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># Image Settings</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br></pre></td></tr></table></figure><h2 id="5-1-网站图标">5.1 网站图标</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Favicon（網站圖標）</span></span><br><span class="line"><span class="attr">favicon:</span> </span><br></pre></td></tr></table></figure><h2 id="5-2-头像">5.2 头像</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Avatar (頭像)</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">img:</span> </span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">false</span> <span class="comment"># 头像是否自动旋转</span></span><br></pre></td></tr></table></figure><h2 id="5-3-去掉所有页面顶部图">5.3 去掉所有页面顶部图</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Disable all banner image</span></span><br><span class="line"><span class="attr">disable_top_img:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li><code>disable_top_img</code> 设置为 <code>true</code> 时，所有页面的顶部图都不显示，即所有顶部图相关设置都会失效。</li></ul><h2 id="5-4-默认顶部图">5.4 默认顶部图</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># If the banner of page not setting, it will show the top_img</span></span><br><span class="line"><span class="attr">default_top_img:</span> </span><br></pre></td></tr></table></figure><h2 id="5-5-主页顶部图">5.5 主页顶部图</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The banner image of home page</span></span><br><span class="line"><span class="attr">index_img:</span> </span><br></pre></td></tr></table></figure><h2 id="5-5-归档页面顶部图">5.5 归档页面顶部图</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The banner image of archive page</span></span><br><span class="line"><span class="attr">archive_img:</span> </span><br></pre></td></tr></table></figure><h2 id="5-6-标签页面顶部图">5.6 标签页面顶部图</h2><ul><li><p>设置标签页面（<code>tags</code>）顶部图，需要在 <code>\source\tags</code> 文件夹中的 <code>index.md</code> 文件开头处加入 <code>top_img: 图片地址</code>。例：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">top_img:</span> </span><br></pre></td></tr></table></figure></li><li><p>子标签页面（<code>tag</code>）默认顶部图 <code>tag_img</code>。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># If the banner of tag page not setting, it will show the top_img</span></span><br><span class="line"><span class="comment"># <span class="doctag">note:</span> tag page, not tags page (子標籤頁面的 top_img)</span></span><br><span class="line"><span class="attr">tag_img:</span> </span><br></pre></td></tr></table></figure></li><li><p>设置每个子标签页面（<code>tag</code>）的顶部图 <code>tag_per_img</code>。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The banner image of tag page, you can set the banner image for each tag</span></span><br><span class="line"><span class="comment"># format:</span></span><br><span class="line"><span class="comment">#  - tag name: xxxxx</span></span><br><span class="line"><span class="attr">tag_per_img:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">tag name:</span> <span class="string">xxxxx</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="5-7-分类页面顶部图">5.7 分类页面顶部图</h2><ul><li><p>设置分类页面（<code>categories</code>）顶部图，需要在 <code>\source\categories</code> 文件夹中的 <code>index.md</code> 文件开头处加入 <code>top_img: 图片地址</code>。例：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">top_img:</span> </span><br></pre></td></tr></table></figure></li><li><p>分类页面（<code>categorie</code>）默认顶部图</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># If the banner of category page not setting, it will show the top_img</span></span><br><span class="line"><span class="comment"># <span class="doctag">Note:</span> category page, not categories page (子分類頁面的 top_img)</span></span><br><span class="line"><span class="attr">category_img:</span> </span><br></pre></td></tr></table></figure></li><li><p>设置每个分类页面（<code>tag</code>）的顶部图</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The banner image of category page, you can set the banner image for each category</span></span><br><span class="line"><span class="comment"># format:</span></span><br><span class="line"><span class="comment">#  - category name: xxxxx</span></span><br><span class="line"><span class="attr">category_per_img:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">category name:</span> <span class="string">xxxxx</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="5-8-页脚背景图">5.8 页脚背景图</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The background image of footer</span></span><br><span class="line"><span class="attr">footer_img:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li><p>留空 / <code>false</code>：显示默认的颜色</p></li><li><p><code>true</code>：显示跟 <code>top_img</code> 一样</p></li><li><p>图片链接：显示所配置的图片</p></li><li><p><code>transparent</code>：透明</p></li></ul><h2 id="5-9-网站背景图">5.9 网站背景图</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Website Background</span></span><br><span class="line"><span class="comment"># Can set it to color or image url</span></span><br><span class="line"><span class="attr">background:</span></span><br></pre></td></tr></table></figure><h2 id="5-10-文章的封面">5.10 文章的封面</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cover:</span> </span><br><span class="line">  <span class="comment"># display the cover or not (是否顯示文章封面)</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span> <span class="comment"># 主页是否显示文章封面</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span> <span class="comment"># 侧边栏是否显示文章封面</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span> <span class="comment"># 归档页面是否显示文章封面</span></span><br><span class="line">  <span class="comment"># When cover is not set, the default cover is displayed (當沒有設置cover時，默認的封面顯示)</span></span><br><span class="line">  <span class="attr">default_cover:</span> <span class="comment"># 当配置多张图片时，会随机选择一张作为 cover</span></span><br><span class="line">    <span class="comment"># - xxx.jpg</span></span><br></pre></td></tr></table></figure><ul><li>为每篇文章单独设置封面，需要在文章的 <code>Fort-matter</code> 中添加 <code>cover</code>：<code>cover: xxx.jpg</code></li></ul><h2 id="5-11-替换无法显示的图片">5.11 替换无法显示的图片</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Replace Broken Images (替換無法顯示的圖片)</span></span><br><span class="line"><span class="attr">error_img:</span></span><br><span class="line">  <span class="attr">flink:</span> <span class="string">/img/friend_404.gif</span> <span class="comment"># 友链头像替换</span></span><br><span class="line">  <span class="attr">post_page:</span> <span class="string">/img/404.jpg</span> <span class="comment"># 文章封面替换</span></span><br></pre></td></tr></table></figure><h2 id="5-12-404-页面">5.12 404 页面</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># A simple 404 page</span></span><br><span class="line"><span class="attr">error_404:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span><span class="comment"># 是否开启404页面</span></span><br><span class="line">  <span class="attr">subtitle:</span> <span class="string">&#x27;Page Not Found&#x27;</span></span><br><span class="line">  <span class="attr">background:</span> <span class="string">/img/error-page.png</span></span><br></pre></td></tr></table></figure><h2 id="5-13-文章-meta-显示">5.13 文章 meta 显示</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">page:</span> <span class="comment"># Home Page 主页</span></span><br><span class="line">    <span class="comment"># Choose: created / updated / both</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">created</span> <span class="comment"># created or updated or both 主页文章日期显示创建日期 / 更新日期 / 两者都显示</span></span><br><span class="line">    <span class="comment"># Choose: date / relative</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">date</span> <span class="comment"># date/relative 主页文章显示日期还是相对日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 主页文章是否显示分类</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 主页文章是否显示标签</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 主页文章是否显示描述性文字</span></span><br><span class="line">  <span class="attr">post:</span> <span class="comment"># 文章页</span></span><br><span class="line">    <span class="comment"># Choose: left / center</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">left</span> <span class="comment"># 文章页 meta 显示的位置，可选 left / center</span></span><br><span class="line">    <span class="comment"># Choose: created / updated / both</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">created</span> <span class="comment"># created or updated or both 文章页日期显示创建日期 / 更新日期 / 两者都显示</span></span><br><span class="line">    <span class="comment"># Choose: date / relative</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">date</span> <span class="comment"># date/relative 显示日期还是相对日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 文章页是否显示分类</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 文章页是否显示标签</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 显示描述性文字</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> butterfly </category>
          
      </categories>
      
      
        <tags>
            
            <tag> butterfly </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 框架全局配置文件</title>
      <link href="/posts/hexo/butterfly/02.html"/>
      <url>/posts/hexo/butterfly/02.html</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#%E4%B8%80%E5%BC%95%E5%85%A5-butterfly-%E4%B8%BB%E9%A2%98">一、引入 butterfly 主题</a></li><li><a href="#%E4%BA%8C%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-_configyml">二、全局配置文件 _config.yml</a><ul><li><a href="#21-%E5%9F%BA%E7%A1%80%E4%BF%A1%E6%81%AF%E9%85%8D%E7%BD%AE">2.1 基础信息配置</a></li><li><a href="#22-%E7%BD%91%E5%9D%80%E9%93%BE%E6%8E%A5%E9%85%8D%E7%BD%AE">2.2 网址链接配置</a></li><li><a href="#23-%E7%9B%AE%E5%BD%95%E9%85%8D%E7%BD%AE">2.3 目录配置</a></li><li><a href="#24-%E6%96%87%E7%AB%A0%E5%86%99%E4%BD%9C%E9%85%8D%E7%BD%AE">2.4 文章写作配置</a></li><li><a href="#25-%E4%B8%BB%E9%A1%B5%E9%85%8D%E7%BD%AE">2.5 主页配置</a></li><li><a href="#26-%E7%B1%BB%E5%88%AB--%E6%A0%87%E7%AD%BE">2.6 类别 &amp; 标签</a></li><li><a href="#27-%E5%85%83%E6%95%B0%E6%8D%AE%E5%85%83%E7%B4%A0">2.7 元数据元素</a></li><li><a href="#28-%E6%97%A5%E6%9C%9F--%E6%97%B6%E9%97%B4">2.8 日期 &amp; 时间</a></li><li><a href="#29-%E5%88%86%E9%A1%B5">2.9 分页</a></li></ul></li></ul><h1>一、引入 butterfly 主题</h1><ul><li><p>在博客目录中下载 <code>butterfly</code> 主题：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">http.proxy</span> <span class="string">&quot;127.0.0.1:1080&quot;</span></span><br><span class="line"><span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">https.proxy</span> <span class="string">&quot;127.0.0.1:1080&quot;</span></span><br><span class="line"><span class="string">git</span> <span class="string">clone</span> <span class="string">-b</span> <span class="string">master</span> <span class="string">https://github.com/jerryc127/hexo-theme-butterfly.git</span> <span class="string">themes/butterfly</span></span><br></pre></td></tr></table></figure><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/02/01.png" width=799/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/02/02.png" width=399/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/02/03.png" width=666/></div></li><li><p>在 <strong>博客目录</strong> 中安装 <code>pug</code> 和 <code>stylus</code> 的渲染器：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-renderer-pug</span> <span class="string">hexo-renderer-stylus</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/02/04.png" width=520/></div></li><li><p>博客采用 <code>butterfly</code> 主题：修改 <code>Hexo</code> 根目录下的 <code>_config.yml</code>，将主题 <code>theme</code> 对应的内容修改为 <code>butterfly</code>。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/02/05.png" width=333/></div></li><li><p>执行命令 <code>hexo clean</code>、<code>hexo generate</code> 和 <code>hexo deploy</code> 部署到 <code>GitHub</code> 之后的网站效果。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/02/06.png" width=888/></div></li></ul><h1>二、全局配置文件 _config.yml</h1><h2 id="2-1-基础信息配置">2.1 基础信息配置</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Mr.DONG</span> <span class="comment"># 网站主标题</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">冬天的冬</span> <span class="comment"># 网站副标题</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">个人学习记录</span> <span class="comment"># 网站描述</span></span><br><span class="line"><span class="attr">keywords:</span> <span class="string">Python,</span> <span class="string">Java,</span> <span class="string">C++</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">DONG</span>  <span class="comment"># 作者名称</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span> <span class="comment"># 网站使用的语言</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">Asia/Shanghai</span> <span class="comment"># 网站使用的时区</span></span><br></pre></td></tr></table></figure><h2 id="2-2-网址链接配置">2.2 网址链接配置</h2><h3 id="2-2-1-基础配置">2.2.1 基础配置</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">http://example.com</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span>  <span class="comment"># 用于设置文章在静态文件生成后的路径，最后一个斜线 / 不要忘记</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"><span class="attr">pretty_urls:</span></span><br><span class="line">  <span class="attr">trailing_index:</span> <span class="literal">false</span> <span class="comment"># Set to false to remove trailing &#x27;index.html&#x27; from permalinks</span></span><br><span class="line">  <span class="attr">trailing_html:</span> <span class="literal">false</span> <span class="comment"># Set to false to remove trailing &#x27;.html&#x27; from permalinks</span></span><br></pre></td></tr></table></figure><ul><li><p><code>hexo</code> 提供了以下变量来生成永久链接 <code>permalink</code>：</p><ul><li><p><code>:year</code>：发表年份（<code>4</code> 位数字）</p></li><li><p><code>:month</code>：发表月份（<code>2</code> 位数字）</p></li><li><p><code>:i_month</code>：发表月份（没有前置 <code>0</code>）</p></li><li><p><code>:day</code>：发表日（<code>2</code> 位数字）</p></li><li><p><code>:i_day</code>：发表日（没有前置 <code>0</code>）</p></li><li><p><code>:hour</code>：文章发表时的小时 (<code>2</code> 位数字)</p></li><li><p><code>:minute</code>：文章发表时的分钟 (<code>2</code> 位数字)</p></li><li><p><code>:second</code>：文章发表时的秒钟 (<code>2</code> 位数字)</p></li><li><p><code>:title</code>：文件名</p></li><li><p><code>:name</code>：文件名</p></li><li><p><code>:layout</code>：布局</p></li><li><p><code>:post_title</code>：文章标题</p></li><li><p><code>:id</code>：文章 <code>ID</code>（清除缓存 <code>hexo clean</code> 时不具有持久性）</p></li><li><p><code>:category</code>：类别。若无分类，则使用 <code>default_category</code> 的值。</p></li><li><p><code>:hash</code>：文件名（与 <code>:title</code> 相同）和日期的 <code>SHA1</code> 哈希值（<code>12</code> 位 <code>16</code> 进制数）</p></li></ul></li></ul><h3 id="2-2-2-利用-hexo-abbrlink-插件生成永久链接">2.2.2 利用 hexo-abbrlink 插件生成永久链接</h3><ul><li><p>在网站目录使用 <code>npm install hexo-abbrlink --save</code> 安装插件。</p></li><li><p>修改 <code>_config.yml</code> 配置文件。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## permalink: :year/:month/:day/:title/</span></span><br><span class="line">permalink: posts/:abbrlink.html  <span class="comment">## 或 :/abbrlink/</span></span><br><span class="line"><span class="comment"># 可以自定义 &#x27;posts&#x27; 处，如：posts:year/:abbrlink.html 或 :abbrlink.html</span></span><br></pre></td></tr></table></figure><ul><li><strong>注</strong>：如果使用 <code>:/abbrlink/</code>，<code>abbrlink</code> 后须带 <code>/</code>，否则点击链接不会跳转到文章页，而是会触发浏览器下载页面代码操作或跳转到空白链接页面。</li></ul></li><li><p>在 <code>_config.butterfly.yml</code> 配置文件中添加下面内容。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## abbrlink config</span></span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc32      <span class="comment"># support crc16(default) and crc32 进制</span></span><br><span class="line">  rep: dec        <span class="comment"># support dec(default) and hex  算法</span></span><br><span class="line">  drafts: false   <span class="comment"># (true)Process draft,(false)Do not process draft. false(default) </span></span><br><span class="line">  <span class="comment">## Generate categories from directory-tree</span></span><br><span class="line">  <span class="comment">## depth: the max_depth of directory-tree you want to generate, should &gt; 0</span></span><br><span class="line">  auto_category:</span><br><span class="line">     enable: true  <span class="comment"># true(default)</span></span><br><span class="line">     depth:        <span class="comment"># 3(default)</span></span><br><span class="line">     over_write: false </span><br><span class="line">  auto_title: false <span class="comment"># enable auto title, it can auto fill the title by path</span></span><br><span class="line">  auto_date: false <span class="comment"># enable auto date, it can auto fill the date by time today</span></span><br><span class="line">  force: false <span class="comment"># enable force mode,in this mode, the plugin will ignore the cache, and calc the abbrlink for every post even it already had abbrlink.</span></span><br></pre></td></tr></table></figure><ul><li><code>alg</code>：算法（目前支持 <code>crc16</code> 和 <code>crc32</code> 算法，默认值是 <code>crc16</code>）</li><li><code>rep</code>：形式（生成的链接可以是十六进制格式也可以是十进制格式，默认值是十进制格式）</li></ul></li></ul><h2 id="2-3-目录配置">2.3 目录配置</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Directory</span></span><br><span class="line"><span class="attr">source_dir:</span> <span class="string">source</span>  <span class="comment"># 存放 hexo 文章的目录，默认值是 source</span></span><br><span class="line"><span class="attr">public_dir:</span> <span class="string">public</span>  <span class="comment"># 存放通过 hexo g 生成的文件的目录，默认值是 public</span></span><br><span class="line"><span class="attr">tag_dir:</span> <span class="string">tags</span> <span class="comment"># 按标签存放文章的目录，默认值是 tags</span></span><br><span class="line"><span class="attr">archive_dir:</span> <span class="string">archives</span> <span class="comment"># 归档文件夹，存放归档文件，默认值是 archives</span></span><br><span class="line"><span class="attr">category_dir:</span> <span class="string">categories</span>  <span class="comment"># 按分类存放文章的目录，默认值是 categories</span></span><br><span class="line"><span class="attr">code_dir:</span> <span class="string">downloads/code</span>  <span class="comment"># 内部代码文件夹，默认值是 source_dir 的子文件夹 downloads/code</span></span><br><span class="line"><span class="attr">i18n_dir:</span> <span class="string">:lang</span></span><br><span class="line"><span class="attr">skip_render:</span>  <span class="comment"># 指定文件跳过渲染，该文件将会被直接复制到 public 文件夹下</span></span><br></pre></td></tr></table></figure><h2 id="2-4-文章写作配置">2.4 文章写作配置</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Writing</span></span><br><span class="line"><span class="attr">new_post_name:</span> <span class="string">:title.md</span>  <span class="comment"># 新文章的默认名</span></span><br><span class="line"><span class="attr">default_layout:</span> <span class="string">post</span></span><br><span class="line"><span class="attr">titlecase:</span> <span class="literal">false</span> <span class="comment"># Transform title into titlecase</span></span><br><span class="line"><span class="attr">external_link:</span>  <span class="comment"># 点击文章时在新标签页内打开</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>  <span class="comment"># 如果想在本标签页内打开文章则设置为 false</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># 对整页有用</span></span><br><span class="line">  <span class="attr">exclude:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">filename_case:</span> <span class="number">0</span>  <span class="comment"># 把文件名转换为小写（1）、大写（2），默认不转换（0）</span></span><br><span class="line"><span class="attr">render_drafts:</span> <span class="literal">false</span>  <span class="comment"># 是否渲染草稿文件，默认为 false 不渲染</span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">relative_link:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">future:</span> <span class="literal">true</span>  <span class="comment"># 是否显示当前时间之后的文章，默认为 true</span></span><br><span class="line"><span class="attr">highlight:</span>  <span class="comment"># 代码高光</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>  <span class="comment"># 是否开启，默认为 true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span> <span class="comment"># 行号显示，默认为 true</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span> <span class="comment"># 自动检测代码语言，默认为 false</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span> <span class="string">【替换tab】</span></span><br></pre></td></tr></table></figure><ul><li><p>可以使用 <code>hexo new [layout] &lt;title&gt;</code> 创建一篇新文章或新页面，文件名默认为 <code>title.md</code>。可以通过修改 <code>new_post_name</code> 的值 <code>:title.md</code> 来改变默认文件名。</p><ul><li><p>当 <code>title</code> 中包含空格时，需要使用引号将 <code>&quot;title&quot;</code> 包括起来。</p></li><li><p><code>hexo</code> 会根据 <code>scaffolds</code> 模板文件夹中对应的模板文件来创建文件。</p></li></ul></li><li><p>布局 <code>layout</code> 默认为 <code>post</code>，可以通过修改 <code>default_layout</code> 的值 <code>post</code> 来改变默认布局。</p></li><li><p><code>hexo</code> 有三种布局：<code>post</code>、<code>page</code> 和 <code>draft</code>，在创建这三种不同类型的文件时，它们会被保存到不同的路径：<code>post</code> 保存到 <code>source/_posts</code>、<code>page</code> 保存到 <code>source</code>、<code>draft</code> 保存到 <code>source/_drafts</code>。</p><ul><li>自定义布局的存储路径与 <code>post</code> 相同。</li></ul></li><li><p>使用 <code>hexo new draft &lt;title&gt;</code> 创建的草稿在建立时会被保存到 <code>source/_drafts</code> 文件夹，因此 <code>hexo generate</code> 并不会将其编译到 <code>public</code> 目录下，所以 <code>hexo deploy</code> 也不会将其部署到 <code>GitHub</code>。</p><ul><li><p>可以通过 <code>hexo publish &lt;title&gt;</code> 将草稿移动到 <code>source/_posts</code> 文件夹。</p></li><li><p>草稿默认不会显示在页面中，但是可以在执行 <code>hexo server</code> 时加上 <code>--draft</code> 参数，或将 <code>_config.yml</code> 文件中 <code>render_drafts</code> 参数的值设为 <code>true</code> 来预览草稿。</p></li></ul></li><li><p>使用 <code>hexo new page &lt;title&gt;</code> 创建新的界面，会在 <code>source</code> 文件夹中创建一个名为 <code>title</code> 的文件夹，文件夹中自动创建一个 <code>index.md</code> 文件。</p></li></ul><h2 id="2-5-主页配置">2.5 主页配置</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Home page setting</span></span><br><span class="line"><span class="comment"># path: Root path for your blogs index page. (default = &#x27;&#x27;)</span></span><br><span class="line"><span class="comment"># per_page: Posts displayed per page. (0 = disable pagination)</span></span><br><span class="line"><span class="comment"># order_by: Posts order. (Order by date descending by default)</span></span><br><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">&#x27;&#x27;</span>  <span class="comment"># 主页对应的路径，默认为 &#x27;&#x27;，即 url 根目录</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">10</span> <span class="comment"># 每页显示的文章数量，默认为 10</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span> <span class="comment"># 文章的排序，默认为 -date，即按日期倒序</span></span><br></pre></td></tr></table></figure><h2 id="2-6-类别-标签">2.6 类别 &amp; 标签</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Category &amp; Tag</span></span><br><span class="line"><span class="attr">default_category:</span> <span class="string">uncategorized</span> <span class="comment"># 默认类别</span></span><br><span class="line"><span class="attr">category_map:</span></span><br><span class="line"><span class="attr">tag_map:</span></span><br></pre></td></tr></table></figure><ul><li><p><code>category_map</code> 表示类别映射，例：中文类别映射到英文类别。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">category_map:</span></span><br><span class="line">  <span class="string">数学:</span> <span class="string">math</span></span><br><span class="line">  <span class="string">编程:</span> <span class="string">programming</span></span><br></pre></td></tr></table></figure></li><li><p><code>tag_map</code> 表示标签映射，与 <code>category_map</code> 类似。</p></li></ul><h2 id="2-7-元数据元素">2.7 元数据元素</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Metadata elements</span></span><br><span class="line"><span class="comment">## https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta</span></span><br><span class="line"><span class="attr">meta_generator:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li><p>是否在页面开头的 <code>head</code> 元素中插入 <code>meta</code> 标签，默认为 <code>true</code>。</p></li><li><p><code>&lt;meta&gt;</code> 标签提供关于 <code>HTML</code> 文档的元数据。它不会显示在页面上，但是对于机器是可读的。可用于浏览器（如何显示内容或重新加载页面），搜索引擎（关键词），或其他 <code>web</code> 服务。</p></li></ul><h2 id="2-8-日期-时间">2.8 日期 &amp; 时间</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Date / Time format</span></span><br><span class="line"><span class="comment">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="comment">## You can customize the date format as defined in</span></span><br><span class="line"><span class="comment">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line"><span class="attr">date_format:</span> <span class="string">YYYY-MM-DD</span></span><br><span class="line"><span class="attr">time_format:</span> <span class="string">HH:mm:ss</span></span><br><span class="line"><span class="comment">## updated_option supports &#x27;mtime&#x27;, &#x27;date&#x27;, &#x27;empty&#x27;</span></span><br><span class="line"><span class="attr">updated_option:</span> <span class="string">&#x27;mtime&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="2-9-分页">2.9 分页</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pagination</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">10</span>  <span class="comment"># 分页时每页的文章数，如果为 0 则不分页，默认为 10</span></span><br><span class="line"><span class="attr">pagination_dir:</span> <span class="string">page</span>  <span class="comment"># 分页的目录，默认为 page，对应于 public 文件夹下的 archives 文件夹下的 page 文件夹，如果只有一页则不会生成这个文件夹</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> butterfly </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 框架 + Butterfly 主题打造个人博客</title>
      <link href="/posts/hexo/butterfly/01.html"/>
      <url>/posts/hexo/butterfly/01.html</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#%E4%B8%80%E5%AE%89%E8%A3%85-nodejs">一、安装 Node.js</a><ul><li><a href="#11-%E4%B8%8B%E8%BD%BD-nodejs-%E5%AE%89%E8%A3%85%E5%8C%85">1.1 下载 Node.js 安装包</a></li><li><a href="#12-%E5%AE%89%E8%A3%85-nodejs">1.2 安装 Node.js</a></li><li><a href="#13-%E6%9F%A5%E7%9C%8B-nodejs-%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F">1.3 查看 Node.js 是否安装成功</a></li><li><a href="#14-%E9%85%8D%E7%BD%AE-nodejs-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">1.4 配置 Node.js 环境变量</a></li><li><a href="#15-npm-%E9%85%8D%E7%BD%AE%E5%9B%BD%E5%86%85%E6%BA%90">1.5 npm 配置国内源</a></li><li><a href="#16-npm-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">1.6 npm 配置文件</a></li><li><a href="#17-npm-install-%E5%AE%89%E8%A3%85%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%96%B9%E6%B3%95">1.7 npm install 安装的四种方法</a></li></ul></li><li><a href="#%E4%BA%8C%E5%AE%89%E8%A3%85-hexo">二、安装 Hexo</a><ul><li><a href="#21-%E5%85%A8%E5%B1%80%E5%AE%89%E8%A3%85-hexo">2.1 全局安装 Hexo</a></li><li><a href="#22-npm-%E5%AE%89%E8%A3%85%E6%A8%A1%E5%9D%97%E7%9A%84%E6%B5%81%E7%A8%8B">2.2 npm 安装模块的流程</a></li><li><a href="#221-%E6%9F%A5%E6%89%BE-npm-%E7%9A%84%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF">2.2.1 查找 npm 的配置信息</a></li><li><a href="#222-%E6%9E%84%E5%BB%BA%E4%BE%9D%E8%B5%96%E6%A0%91">2.2.2 构建依赖树</a></li><li><a href="#223-%E4%B8%8B%E8%BD%BD%E5%AE%8C%E6%95%B4%E7%9A%84%E4%BE%9D%E8%B5%96%E8%B5%84%E6%BA%90">2.2.3 下载完整的依赖资源</a></li><li><a href="#224-%E5%AE%89%E8%A3%85">2.2.4 安装</a></li></ul></li><li><a href="#%E4%B8%89%E5%88%9D%E5%A7%8B%E5%8C%96-hexo-%E5%8D%9A%E5%AE%A2">三、初始化 Hexo 博客</a><ul><li><a href="#31-%E5%88%9D%E5%A7%8B%E5%8C%96%E8%BF%87%E7%A8%8B">3.1 初始化过程</a></li><li><a href="#32-%E5%8D%9A%E5%AE%A2%E7%9B%AE%E5%BD%95">3.2 博客目录</a></li><li><a href="#321-%E6%A6%82%E8%BF%B0">3.2.1 概述</a></li><li><a href="#322-packagejson">3.2.2 package.json</a></li><li><a href="#323-package-lockjson">3.2.3 package-lock.json</a></li></ul></li><li><a href="#%E5%9B%9B%E9%83%A8%E7%BD%B2%E8%87%B3-github-pages">四、部署至 Github Pages</a><ul><li><a href="#41-%E5%88%9B%E5%BB%BA%E4%BB%93%E5%BA%93">4.1 创建仓库</a></li><li><a href="#42-%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96">4.2 安装依赖</a></li><li><a href="#43-%E4%BF%AE%E6%94%B9-_configyml-%E6%96%87%E4%BB%B6">4.3 修改 _config.yml 文件</a></li><li><a href="#44-%E9%A2%84%E8%A7%88%E7%BD%91%E7%AB%99">4.4 预览网站</a></li></ul></li></ul><h1>一、安装 Node.js</h1><h2 id="1-1-下载-node-js-安装包">1.1 下载 Node.js 安装包</h2><ul><li><p>官网下载地址：<a href="https://nodejs.cn/download/">https://nodejs.cn/download/</a></p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/01.png" width=666/></div></li></ul><h2 id="1-2-安装-node-js">1.2 安装 Node.js</h2><ul><li><p>双击 <code>msi</code> 文件，一路 <code>Next</code></p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/02.png" width=399/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/03.png" width=399/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/04.png" width=399/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/05.png" width=399/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/06.png" width=399/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/07.png" width=399/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/08.png" width=399/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/09.png" width=399/></div></li></ul><h2 id="1-3-查看-node-js-是否安装成功">1.3 查看 Node.js 是否安装成功</h2><ul><li><p><code>node -v</code></p></li><li><p><code>npm -v</code></p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/10.png" width=333/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/11.png" width=333/></div></li></ul><h2 id="1-4-配置-node-js-环境变量">1.4 配置 Node.js 环境变量</h2><ul><li><p>当不配置 <code>Node.js</code> 环境变量，在使用命令安装 <code>node.js</code> 全局模块时（例：<code>npm install -g hexo</code>），会默认安装到路径 <code>C:\Users\DONG\AppData\Roaming\npm</code> 中，缓存默认存放在 <code>C:\Users\DONG\AppData\Local\npm-cache</code>。</p></li><li><p>因此，需要配置 <strong>全局模块安装路径</strong> <code>node_global</code> 和 <strong>缓存路径</strong> <code>node_cache</code>。</p><ul><li><p>新建文件夹 <code>node_global</code> 和 <code>node_cache</code>。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/12.png" width=500/></div></li><li><p>设置全局模块安装路径和缓存路径。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置全局模块安装路径，默认 C:\Users\DONG\AppData\Roaming\npm</span></span><br><span class="line">npm config <span class="built_in">set</span> prefix <span class="string">&quot;D:\Software\nodejs\node_global&quot;</span></span><br><span class="line"><span class="comment"># 设置全局缓存存放路径，默认 C:\Users\DONG\AppData\Local\npm-cache</span></span><br><span class="line">npm config <span class="built_in">set</span> cache <span class="string">&quot;D:\Software\nodejs\node_cache&quot;</span></span><br></pre></td></tr></table></figure><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/13.png" width=500/></div></li><li><p>配置环境变量：</p><ul><li><p>新建一个名为 <code>NODE_PATH</code> 的 <strong>系统变量</strong>，值为全局模块安装路径 + <code>\node_modules</code>（<code>D:\Software\nodejs\node_global\node_modules</code>）</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/14.png" width=520/></div></li><li><p>修改名为 <code>Path</code> 的 <strong>用户变量</strong>：将 <code>npm</code> 的路径 <code>C:\Users\DONG\AppData\Roaming\npm</code> 改为 <code>D:\Software\nodejs\node_global</code>。</p></li><li><p>在 <strong>用户变量</strong> <code>Path</code> 中新建一个 <code>%NODE_PATH%</code> 变量。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/15.png" width=500/></div></li></ul></li></ul></li><li><p>测试环境变量是否配置成功：</p><ul><li><p><code>npm install -g npm</code></p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/16.png" width=500/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/17.png" width=500/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/18.png" width=399/></div></li></ul></li></ul><h2 id="1-5-npm-配置国内源">1.5 npm 配置国内源</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更换 npm 源为国内淘宝镜像</span></span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org/</span><br></pre></td></tr></table></figure><h2 id="1-6-npm-配置文件">1.6 npm 配置文件</h2><ul><li><p><code>npm</code> 全局配置文件（<code>.npmrc</code>）默认位于 <code>C:\Users\用户名</code>。</p></li><li><p><code>npm</code> 内置配置文件（<code>.npmrc</code>）位于 <code>C:\Program Files\nodejs\node_modules\npm</code>。</p></li></ul><h2 id="1-7-npm-install-安装的四种方法">1.7 npm install 安装的四种方法</h2><ul><li><p><code>npm install moduleName</code>：将模块安装到 <strong>当前项目</strong> 的 <code>node_modules</code> 目录中。</p><ul><li><p><code>npm 5.0.0</code> 之前版本不会将模块依赖写入 <code>package.json</code> 文件的 <code>devDependencies</code> 或 <code>dependencies</code> 节点。</p></li><li><p>从 <code>npm 5.0.0</code> 开始，模块依赖写入到运行时依赖（<code>dependencies</code>）中，因此可以不再添加 <code>--save</code> 选项。</p></li><li><p>运行 <code>npm install</code> 初始化项目时不会下载模块 <code>moduleName</code>。</p></li></ul></li><li><p><code>npm install moduleName -g</code>：将模块安装到 <strong>全局</strong>，能够在本机的所有目录中使用。</p><ul><li><p>不会在当前项目的 <code>node_modules</code> 目录中保存模块。</p></li><li><p>具体安装到磁盘哪个位置，可以使用 <code>npm config get prefix</code> 查看。</p></li><li><p>不会将模块依赖写入 <code>devDependencies</code> 或 <code>dependencies</code> 节点。</p></li><li><p>运行 <code>npm install</code> 初始化项目时不会下载模块 <code>moduleName</code>。</p></li></ul></li><li><p><code>npm install moduleName --save</code>：</p><ul><li><p><code>--save</code> 或 <code>-S</code> 的意思是将模块安装到 <strong>当前项目</strong> 的 <code>node_modules</code> 目录中。</p></li><li><p>会将模块依赖写入 <code>package.json</code> 文件的运行时依赖（<code>dependencies</code>）中。</p></li><li><p>运行 <code>npm install</code> 初始化项目时，会将模块 <code>moduleName</code> 自动下载到项目的 <code>node_modules</code> 目录中。</p></li><li><p>运行 <code>npm install --production</code> 或注明 <code>NODE_ENV</code> 变量值为 <code>production</code> 时，<strong>会自动下载模块</strong> 到 <code>node_modules</code> 目录中。</p></li></ul></li><li><p><code>npm install moduleName --save-dev</code>：</p><ul><li><p><code>--save-dev</code> 或 <code>-D</code> 的意思是将模块安装到 <strong>当前项目</strong> 的 <code>node_modules</code> 目录中。</p></li><li><p>会将模块依赖写入 <code>package.json</code> 文件的开发时依赖（<code>devDependencies</code>）中。</p></li><li><p>运行 <code>npm install</code> 初始化项目时，会将模块 <code>moduleName</code> 自动下载到项目的 <code>node_modules</code> 目录中。</p></li><li><p>运行 <code>npm install --production</code> 或注明 <code>NODE_ENV</code> 变量值为 <code>production</code> 时，<strong>不会自动下载模块</strong> 到 <code>node_modules</code> 目录中。</p></li></ul></li></ul><h1>二、安装 Hexo</h1><h2 id="2-1-全局安装-hexo">2.1 全局安装 Hexo</h2><ul><li><p>使用命令进行全局安装 <code>hexo</code>：<code>npm install -g hexo-cli</code></p></li><li><p>报错</p><ul><li><p>错误：</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/19.png" width=666/></div></li><li><p>原因：<code>CERT_HAS_EXPIRED</code> 是一个由 <code>node.js</code> 和 <code>npm</code> 抛出的错误，表示你正在尝试访问的服务器的 <code>SSL</code> 证书已经过期。</p></li><li><p>解决：</p><ul><li>取消 <code>ssl</code> 验证：<code>npm config set strict-ssl false</code></li></ul></li></ul></li><li><p>查看安装的 <code>hexo</code> 版本：<code>hexo -v</code></p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/20.png" width=366/></div></li></ul><h2 id="2-2-npm-安装模块的流程">2.2 npm 安装模块的流程</h2><h3 id="2-2-1-查找-npm-的配置信息">2.2.1 查找 npm 的配置信息</h3><ul><li><p>执行 <code>npm install</code> 命令后，<code>npm</code> 会去查找 <code>npm</code> 的配置信息（例：<code>npm</code> 源）。</p><ul><li><p><code>npm</code> 先在 <strong>当前项目</strong> 中查找 <code>.npmrc</code> 文件，没找到会查找 <strong>全局配置</strong> 的 <code>.npmrc</code>，还没找到会使用 <code>npm</code> <strong>内置</strong> 的 <code>.npmrc</code> 文件。</p></li><li><p>优先级：项目级的 <code>.npmrc</code> 文件 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> 用户级的 <code>.npmrc</code> 文件 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> 全局级的 <code>.npmrc</code> 文件 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> <code>npm</code> 内置的 <code>.npmrc</code> 文件。</p></li></ul></li></ul><h3 id="2-2-2-构建依赖树">2.2.2 构建依赖树</h3><ul><li><p>获取 <code>.npmrc</code> 配置文件后，开始构建依赖树。先检查当前项目中是否存在 <code>package-lock.json</code> 文件。</p><ul><li><p>如果存在，会有两种情况。</p><ul><li><p>当 <code>package.json</code> 声明的依赖版本和 <code>package-lock.json</code> 版本兼容，则按照 <code>package-lock.json</code> 安装。</p></li><li><p>当 <code>package.json</code> 声明的依赖版本和 <code>package-lock.json</code> 版本不兼容，按照 <code>package.json</code> 安装，并更新 <code>package-lock.json</code>。</p></li></ul></li><li><p>如果不存在，则直接使用 <code>package.json</code> 中的信息生成依赖树并生成 <code>package-lock.json</code> 文件。</p></li></ul></li></ul><h3 id="2-2-3-下载完整的依赖资源">2.2.3 下载完整的依赖资源</h3><ul><li><p>构建依赖树后，可以根据依赖树下载完整的依赖资源。</p><ul><li><p>在下载之前，会先检查缓存目录（默认  <code>C:\Users\DONG\AppData\Local\npm-cache</code>）中是否存在缓存资源。</p><ul><li><p>如果存在缓存资源，则直接将缓存资源解压到 <code>node_modules</code> 中。</p></li><li><p>如果不存在缓存资源，则先将 <code>npm</code> 远程仓库（默认为 <code>npmjs.com</code>）中的包下载至本地，然后进行包的完整性校验，校验通过后将其添加到缓存目录并解压到 <code>node_modules</code> 中。</p></li></ul></li><li><p>通过 <code>npm config get cache</code> 可以查看缓存目录。</p></li></ul></li><li><p>缓存的包存放在缓存目录下的 <code>_cacache</code> 中，该目录下的 <code>content-v2</code> 用于缓存压缩文件 <code>tar</code>，<code>index-v5</code> 用于存储这个压缩包的 <code>hash</code>。</p><ul><li><code>npm</code> 在执行安装时，可以根据 <code>package-lock.json</code> 中存储的 <code>integrity</code>、<code>version</code>、<code>name</code> 生成一个唯一的 <code>key</code> 对应到 <code>index-v5</code> 目录下的缓存记录，从而找到 <code>tar</code> 包的 <code>hash</code>，然后根据 <code>hash</code> 再去 <code>content-v2</code> 中查找缓存的 <code>tar</code> 包直接使用。</li></ul></li></ul><h3 id="2-2-4-安装">2.2.4 安装</h3><ul><li>解压后，<code>npm</code> 会通过执行模块中的 <code>preinstall</code> 脚本（如果存在）进行预处理操作。如果没有 <code>preinstall</code> 脚本，或 <code>preinstall</code> 脚本执行成功，会执行包的 <code>main</code> 脚本（如果有的话），这个脚本通常用于执行一些初始化代码，例如引入模块、输出日志等。</li></ul><h1>三、初始化 Hexo 博客</h1><h2 id="3-1-初始化过程">3.1 初始化过程</h2><ul><li><p>创建博客文件夹 <code>blog</code>。</p></li><li><p>在 <code>blog</code> 文件夹下使用 <code>hexo init 博客名字</code> 初始化博客目录。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/21.png" width=500/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/22.png" width=500/></div></li><li><p>进入 <code>Mr.DONG</code> 文件夹，并使用 <code>npm install</code> 安装依赖。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/23.png" width=399/></div></li><li><p>使用 <code>hexo generate</code>（<code>hexo g</code>）在当前目录下生成一个名为 <code>public</code> 的文件夹。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/24.png" width=500/></div><ul><li><p><code>public</code> 文件夹内容：将 <code>source</code> 文件夹中的 <code>Markdown</code> 文档，转换成 <code>index.html</code>。再结合主题进行渲染，就是我们最终看到的博客。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/25.png" width=599/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/26.png" width=500/></div></li></ul></li><li><p>使用 <code>hexo server</code>（<code>hexo s</code>）启动本地 <code>web</code> 服务，在浏览器打开 <a href="http://localhost:4000/">http://localhost:4000/</a> 即可预览 <code>hexo</code> 博客。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/27.png" width=555/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/28.png" width=799/></div></li></ul><h2 id="3-2-博客目录">3.2 博客目录</h2>  <div align=center>    <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/22.png" width=666/>  </div><h3 id="3-2-1-概述">3.2.1 概述</h3><ul><li><p>初始化的博客目录结构如下：</p><ul><li><p><code>_config.yml</code>：全局配置文件，可以配置博客的名称、副标题、描述、作者、语言、主题等。</p></li><li><p><code>package.json</code>：用来描述项目及项目所依赖的模块信息（只记录主模块）。</p></li><li><p><code>package-lock.json</code>：锁定所有模块的版本号，包括主模块和所有依赖子模块。</p></li><li><p><code>db.json</code>：执行 <code>hexo g</code> 时与 <code>public</code> 文件夹一同生成的缓存文件。使用 <code>hexo clean</code> 命令会清除该文件。</p></li><li><p><code>scaffolds</code>：模版文件夹。</p></li><li><p><code>source</code>：存放用户资源（文章、图片），有 <code>_drafts</code> 和 <code>_posts</code> 两个子目录。</p></li><li><p><code>_posts</code>：默认 <code>source</code> 文件夹下只有一个 <code>_post</code> 文件夹，存放文章的 <code>markdown</code> 源文件。</p></li><li><p><code>_discarded</code>：删除的博客存放在这里。</p></li><li><p><code>categories</code>：分类文件夹，有 <code>index.md</code> 文件，由 <code>hexo new page categories</code> 生成。</p></li><li><p><code>tags</code>：由 <code>hexo new page tags</code> 生成的标签文件夹，内自动生成 <code>index.md</code>。</p></li><li><p><code>_drafts</code>：由 <code>hexo new draft &quot;草稿名字&quot;</code> 创建一篇草稿，默认放到 <code>_drafts</code> 目录下。</p><ul><li>该功能正好提供了一个私密空间（文章仅自己可见），可以利用该特性保留一下不想删除但又不想发布在博客上的文章。</li></ul></li><li><p><code>node_modules</code>：存放 <code>hexo</code> 扩展模块的文件夹。</p></li><li><p><code>themes</code>：主题文件夹。该文件下，每一个子文件夹就是一个主题。</p></li></ul></li></ul><h3 id="3-2-2-package-json">3.2.2 package.json</h3><ul><li><p>在使用 <code>npm init</code>（<code>hexo init</code>）初始化项目时会自动生成。</p></li><li><p>版本格式：<code>major</code>.<code>minor</code>.<code>patch</code>，依次为主版本号、次版本号、补丁版本号。</p><ul><li><p><code>major</code>（主版本号）：发生重大变化时修改。包括但不限于新增特性、修改机制、删除功能， 一般不兼容上一个主版本号。</p></li><li><p><code>minor</code>（次版本号）：发生一些小变化（例：新增、修改功能等）时修改，必须是向前兼容的，意味着不能直接删除某项功能。</p></li><li><p><code>patch</code>（补丁版本号）：仅修复或调整一些小问题时，可以修改补丁版本号。</p></li></ul></li><li><p>版本符号：</p><ul><li><p><code>&gt;</code>：大于某个版本。例：<code>&gt;7.0.0</code> 表示大于 <code>7.0.0</code> 版本。</p></li><li><p><code>&gt;=</code>：大于等于某个版本。例：<code>&gt;=7.0.0</code> 表示大于等于 <code>7.0.0</code> 版本。</p></li><li><p><code>&lt;</code>：小于某个版本。例：<code>&lt;7.0.0</code> 表示小于 <code>7.0.0</code> 版本。</p></li><li><p><code>&lt;=</code>：小于等于某个版本。例：<code>&lt;=7.0.0</code> 表示小于等于 <code>7.0.0</code> 版本。</p></li><li><p><code>-</code>：介于两个版本之间。例：<code>5.0.0 - 7.0.0</code> 表示大于等于 <code>5.0.0</code> 版本，小于等于 <code>7.0.0</code> 版本。</p></li><li><p><code>||</code>：表示满足多个条件。例：<code>7.0.0||&gt;5.0.0</code> 表示 <code>7.0.0</code> 版本或大于 <code>5.0.0</code> 版本。</p></li><li><p><code>x</code>：不固定的版本号。例：<code>5.3.x</code> 只要保证主版本号是 <code>5</code>，次版本号是 <code>3</code> 即可。</p></li><li><p><code>~</code>：补丁版本号可增。例：<code>~5.3.4</code> 保证主版本号是 <code>5</code>，次版本号是 <code>3</code>，补丁版本号大于等于 <code>4</code>。</p></li><li><p><code>^</code>：次版本号和补丁版本号可增。例：<code>^5.3.4</code> 保证主版本号是 <code>5</code>，次版本号可以大于等于 <code>3</code>，补丁版本号可以大于等于 <code>4</code>。</p></li><li><p><code>*</code>：最新版本。例：<code>*</code> 始终安装最新版本。</p></li><li><p><code>无符号</code>：版本号之前不带任何标记表示必须依赖这个版本。</p></li></ul></li></ul><h3 id="3-2-3-package-lock-json">3.2.3 package-lock.json</h3><ul><li><p><code>npm install</code> 执行后，会生成一个 <code>node_modules</code> 树，在理想情况下， 希望对于同一个 <code>package.json</code>，总是生成完全相同的 <code>node_modules</code> 树。但在多数情况下，<code>npm</code> 无法做到这一点。因为 <code>package.json</code> 只能指定要安装的依赖的版本，但不能指定安装的依赖的依赖的版本。</p></li><li><p><code>package-lock.json</code> 的产生就是来对整个依赖树进行版本固定的（锁死）。</p></li><li><p><code>package-lock.json</code> 会在 <code>npm</code> 更改 <code>node_modules</code> 树（<code>npm install</code>）或编辑 <code>package.json</code> 时自动生成。</p></li><li><p><code>npm 5</code> 之前的版本没有 <code>package-lock.json</code> 这个文件，当安装模块并保存依赖信息时，需要加上 <code>--save</code> 参数。</p></li><li><p><code>npm 5</code> 之后的版本加入了 <code>package-lock.json</code> 文件。当安装模块时，无需添加 <code>--save</code> 参数，就会自动保存依赖信息，且会生成或更新 <code>package-lock.json</code> 文件。</p></li></ul><h1>四、部署至 Github Pages</h1><h2 id="4-1-创建仓库">4.1 创建仓库</h2><ul><li><p>在 <code>GitHub</code> 上创建一个新的仓库用于保存我们使用 <code>hexo generate</code>（<code>hexo g</code>）生成的网页。</p><ul><li><p>仓库名的格式必须为 <code>&lt;用户名&gt;.github.io</code>，然后点击 <code>Create repository</code>。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/29.png" width=666/></div></li></ul></li></ul><h2 id="4-2-安装依赖">4.2 安装依赖</h2><ul><li><p>进入 <code>Mr.DONG</code> 文件夹，并使用 <code>npm install hexo-deployer-git --save</code> 安装依赖。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/30.png" width=399/></div></li><li><p><code>--save</code> 的意思是将模块安装到项目目录下，并在 <code>package</code> 文件的 <code>dependencies</code> 节点写入依赖。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/31.png" width=266/></div></li></ul><h2 id="4-3-修改-config-yml-文件">4.3 修改 _config.yml 文件</h2><ul><li><p>修改 <code>_config.yml</code> 文件中的 <code>deploy</code> 部分，<code>type</code> 填写 <code>git</code>，<code>repository</code> 填写仓库地址 <code>https://github.com/xindong2020/xindong2020.github.io</code>，分支 <code>branch</code> 选择 <code>main</code>。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/32.png" width=500/></div></li><li><p>依次执行命令 <code>hexo clean</code>、<code>hexo generate</code> 和 <code>hexo deploy</code>。</p><ul><li>当出现警告 <code>LF will be replaced by CRLF the next time Git touches it</code> 时，执行命令 <code>git config --global core.autocrlf false</code>。</li></ul><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/33.png" width=555/></div><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/34.png" width=555/></div></li></ul><h2 id="4-4-预览网站">4.4 预览网站</h2><ul><li><p>在浏览器中访问 <a href="https://xindong2020.github.io">https://xindong2020.github.io</a>，即可预览网站。</p><div align=center>  <img src="https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Hexo/Butterfly/01/35.png" width=799/></div></li></ul>]]></content>
      
      
      <categories>
          
          <category> butterfly </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
