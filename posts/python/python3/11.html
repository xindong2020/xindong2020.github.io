<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Python3 函数（下） | DXQ冬心淇</title><meta name="author" content="DONG"><meta name="copyright" content="DONG"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="[TOC] 一、封包、解包 1.1 封包（pack）   封包就是将多个元素合起来作为一个整体使用。   将多个值赋值给一个变量时，Python 会自动将这些值封装成元组，这个特性称之为封包。例： 1234num &#x3D; 5, 6, 7, 8, 9print(num)  # (5, 6, 7, 8, 9)print(type(num))  # &lt;class &#x27;tuple&#x27;&amp;g">
<meta property="og:type" content="article">
<meta property="og:title" content="Python3 函数（下）">
<meta property="og:url" content="http://xindong2020.github.io/posts/python/python3/11">
<meta property="og:site_name" content="DXQ冬心淇">
<meta property="og:description" content="[TOC] 一、封包、解包 1.1 封包（pack）   封包就是将多个元素合起来作为一个整体使用。   将多个值赋值给一个变量时，Python 会自动将这些值封装成元组，这个特性称之为封包。例： 1234num &#x3D; 5, 6, 7, 8, 9print(num)  # (5, 6, 7, 8, 9)print(type(num))  # &lt;class &#x27;tuple&#x27;&amp;g">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://xindong2020.github.io/img/cover08.jpg">
<meta property="article:published_time" content="2024-12-10T16:00:00.000Z">
<meta property="article:modified_time" content="2025-07-17T08:37:25.894Z">
<meta property="article:author" content="DONG">
<meta property="article:tag" content="Python3">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://xindong2020.github.io/img/cover08.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Python3 函数（下）",
  "url": "http://xindong2020.github.io/posts/python/python3/11",
  "image": "http://xindong2020.github.io/img/cover08.jpg",
  "datePublished": "2024-12-10T16:00:00.000Z",
  "dateModified": "2025-07-17T08:37:25.894Z",
  "author": [
    {
      "@type": "Person",
      "name": "DONG",
      "url": "http://xindong2020.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/logo.png"><link rel="canonical" href="http://xindong2020.github.io/posts/python/python3/11"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"EDP4N8LG9P","apiKey":"3438f8c0406b80c3b5a10fc9091ec01a","indexName":"my-hexo-blog","hitsPerPage":6,"languages":{"input_placeholder":"搜索文章","hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，耗时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: DONG","link":"链接: ","source":"来源: DXQ冬心淇","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: true,
  percent: {
    toc: false,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Python3 函数（下）',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/font.css"><meta name="generator" content="Hexo 7.3.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="web_bg" style="background-image: url(/img/background.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/logo.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">21</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/posts/hexo/butterfly/"><i class="fa-fw iconfont icon-wangzhan"></i><span> 建站</span></a></li><li><a class="site-page child" href="/posts/python/python3/"><i class="fa-fw iconfont icon-python"></i><span> Python</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background: transparent;"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/logo.png" alt="Logo"><span class="site-name">DXQ冬心淇</span></a><a class="nav-page-title" href="/"><span class="site-name">Python3 函数（下）</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/posts/hexo/butterfly/"><i class="fa-fw iconfont icon-wangzhan"></i><span> 建站</span></a></li><li><a class="site-page child" href="/posts/python/python3/"><i class="fa-fw iconfont icon-python"></i><span> Python</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Python3 函数（下）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2024-12-10T16:00:00.000Z" title="发表于 2024-12-11 00:00:00">2024-12-11</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python3/">Python3</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">5.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>19分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p>[TOC]</p>
<h1><span id="一-封包-解包">一、封包、解包</span></h1>
<h2><span id="11-封包pack">1.1 封包（pack）</span></h2>
<ul>
<li>
<p>封包就是将多个元素合起来作为一个整体使用。</p>
</li>
<li>
<p><strong>将多个值赋值给一个变量时</strong>，<code>Python</code> <strong>会自动将这些值封装成元组</strong>，<strong>这个特性称之为封包</strong>。例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span></span><br><span class="line"><span class="built_in">print</span>(num)  <span class="comment"># (5, 6, 7, 8, 9)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(num))  <span class="comment"># &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(num, <span class="built_in">tuple</span>))  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>当函数的不定长参数接收多个参数值时</strong>，<code>Python</code> <strong>会自动进行封包</strong>。例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">      <span class="built_in">print</span>(args)</span><br><span class="line">      <span class="built_in">print</span>(<span class="built_in">type</span>(args))</span><br><span class="line">      <span class="built_in">print</span>(kwargs)</span><br><span class="line">      <span class="built_in">print</span>(<span class="built_in">type</span>(kwargs))</span><br><span class="line">  </span><br><span class="line">  lst = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">  func(lst, name=<span class="string">&quot;dong&quot;</span>, age=<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line">- **当函数返回多个值时**，`Python` **会自动进行封包**。例：</span><br><span class="line"></span><br><span class="line">  ```python</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">  	<span class="keyword">return</span> <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  var = func()</span><br><span class="line">  <span class="built_in">print</span>(var)  <span class="comment"># (5, 6, 7, 8, 9)</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">type</span>(var))  <span class="comment"># &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">isinstance</span>(var, <span class="built_in">tuple</span>))  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>实际开发过程中，很少主动进行封包操作。</p>
</li>
</ul>
<h2><span id="12-解包unpack">1.2 解包（unpack）</span></h2>
<ul>
<li>
<p>解包就是将容器里面的元素逐个取出来使用。</p>
</li>
<li>
<p>可迭代对象都支持解包。</p>
<ul>
<li>可迭代对象：列表、元组、字典、集合、字符串、<code>range</code>、迭代器（<code>reversed</code>、<code>zip</code>、<code>enumerate</code>）等</li>
</ul>
</li>
</ul>
<h3><span id="121-赋值多变量">1.2.1 赋值多变量</span></h3>
<h4><span id="1普通序列赋值">（1）普通序列赋值</span></h4>
<ul>
<li>
<p><strong>将一个可迭代对象赋值给多个变量时</strong>，<code>Python</code> <strong>会自动解包</strong>，将可迭代对象中的元素逐一赋值给每个变量，因此变量个数要与可迭代对象的元素数量相同，否则抛出异常 <code>ValueError: too many values to unpack</code> 或 <code>ValueError: not enough values to unpack</code>。</p>
</li>
<li>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lst = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line">a, b, c = lst</span><br><span class="line"><span class="built_in">print</span>(a, b, c)  <span class="comment"># 5 6 7</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4><span id="2增强序列赋值">（2）增强序列赋值</span></h4>
<ul>
<li>
<p>当我们就想 <strong>将元素数量大于变量个数的可迭代对象赋值给变量时</strong>，可以在其中一个变量前面加一个星号（<code>*</code>），代表这个变量可接收 <code>0</code> 个、<code>1</code> 个或多个元素，并把这些值组成一个 <strong>列表</strong>。</p>
</li>
<li>
<p>多个变量中不允许存在多个带星号（<code>*</code>）的变量。</p>
</li>
<li>
<p><strong>解包过程</strong>：首先将其他变量根据位置确定对应赋值的元素，剩下的元素组成一个 <strong>列表</strong> 赋值给带星号（<code>*</code>）的变量。</p>
</li>
<li>
<p>带星号（<code>*</code>）的变量与不定长参数 <code>*args</code> 不同：</p>
<ul>
<li>
<p><code>*</code> <strong>变量是不贪婪的</strong>，会先让其他变量赋值，剩余的值全部给<code>*</code> 变量，<code>*</code> 变量后面的变量能够被赋值。</p>
</li>
<li>
<p><strong>不定长参数</strong> <code>*args</code> <strong>是贪婪的</strong>，会将所有的实参值全部获取，<code>*args</code> 后面的参数不会被赋值。</p>
</li>
</ul>
</li>
<li>
<p>当仅为一个带星号（<code>*</code>）的变量赋值可迭代对象时，必须要在变量名后添加 <strong>逗号</strong>（<code>,</code>）。例：<code>*a, = [10]</code>。</p>
</li>
<li>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a, *b, c, d = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">8</span>]</span><br><span class="line"><span class="built_in">print</span>(a, b, c, d)  <span class="comment"># 1 [3, 5, 7, 9, 2] 6 8</span></span><br><span class="line">a, b, *c, d = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line"><span class="built_in">print</span>(a, b, c, d)  <span class="comment"># 5 6 [] 7</span></span><br><span class="line">*a, b, c = (<span class="number">5</span>, <span class="number">2</span>, <span class="number">7</span>)</span><br><span class="line"><span class="built_in">print</span>(a, b, c)  <span class="comment"># [5] 2 7</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4><span id="3接收函数返回值">（3）接收函数返回值</span></h4>
<ul>
<li>
<p>当函数返回多个值时，<code>Python</code> 会自动将多个值封包成一个元组，使用多个变量接收函数返回值时，<code>Python</code> 会自动解包，将元组中的元素逐一赋值给每个变量。</p>
</li>
<li>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">      <span class="keyword">return</span> <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span></span><br><span class="line">  </span><br><span class="line">  a, *b, c = func()</span><br><span class="line">  <span class="built_in">print</span>(a, b, c)  <span class="comment"># 5 [6, 7, 8] 9</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### 1.2.2 交换两个变量值</span></span><br><span class="line"></span><br><span class="line">- 在 `Python` 中，交换两个变量的值非常方便，本质上也是自动解包的过程。</span><br><span class="line"></span><br><span class="line">- 示例：</span><br><span class="line"></span><br><span class="line">  ```python</span><br><span class="line">  a, b = <span class="number">6</span>, <span class="number">8</span></span><br><span class="line">  b, a = a, b</span><br><span class="line">  <span class="built_in">print</span>(a, b)  <span class="comment"># 8 6</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>b, a = a, b</code> 首先将 <code>a, b</code> 封包成为一个元组，然后赋值给 <code>b, a</code> 进行解包。</li>
</ul>
</li>
</ul>
<h3><span id="123-遍历字典">1.2.3 遍历字典</span></h3>
<ul>
<li>
<p>字典的 <code>items</code> 方法可以返回字典中所有的键值对组成的列表，列表中的每一项都是一个元组。当我们使用 <code>for</code> 循环遍历字典，并用两个变量同时获取每次遍历出的元组时，<code>Python</code> 会自动解包。</p>
</li>
<li>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">member_list = [&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;dong&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">19</span>, <span class="string">&quot;height&quot;</span>: <span class="number">177</span>&#125;,</span><br><span class="line">               &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;xin&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">18</span>, <span class="string">&quot;height&quot;</span>: <span class="number">168</span>&#125;,</span><br><span class="line">               &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;man&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">20</span>, <span class="string">&quot;height&quot;</span>: <span class="number">179</span>&#125;]</span><br><span class="line"><span class="comment"># 输出：</span></span><br><span class="line"><span class="comment">#   name:dong, age:19, height:177,</span></span><br><span class="line"><span class="comment">#   name:xin, age:18, height:168,</span></span><br><span class="line"><span class="comment">#   name:man, age:20, height:179,</span></span><br><span class="line"><span class="keyword">for</span> member_d <span class="keyword">in</span> member_list:</span><br><span class="line">    <span class="keyword">for</span> k, v <span class="keyword">in</span> member_d.items():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;k&#125;</span>:<span class="subst">&#123;v&#125;</span>, &quot;</span>, end=<span class="string">&quot;&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="124-和-解包运算符">1.2.4 * 和 ** 解包运算符</span></h3>
<ul>
<li>
<p>使用 <code>*</code> 可迭代解包运算符可以将可迭代对象解包成 <strong>位置参数</strong>，<code>**</code> 字典解包运算符可以将字典解包成 <strong>关键字参数</strong>，这种解包方式主要运用在函数传参的过程中。</p>
</li>
<li>
<p>示例 <code>1</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">*args, **kwargs</span>):  <span class="comment"># 封包</span></span><br><span class="line">      <span class="built_in">print</span>(args)  <span class="comment"># (5, 6, 7, 8, 9)</span></span><br><span class="line">      <span class="built_in">print</span>(*args)  <span class="comment"># 解包，输出：5 6 7 8 9</span></span><br><span class="line">      <span class="built_in">print</span>(kwargs)  <span class="comment"># &#123;&#x27;name&#x27;: &#x27;dong&#x27;, &#x27;age&#x27;: 18&#125;</span></span><br><span class="line">      <span class="built_in">print</span>(*kwargs)  <span class="comment"># 解包，输出：name age</span></span><br><span class="line">      </span><br><span class="line">  lst = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">  member = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;dong&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">18</span>&#125;</span><br><span class="line">  func(*lst, **member)  <span class="comment"># 解包</span></span><br><span class="line"></span><br><span class="line">- 示例 `<span class="number">2</span>`：利用字典解包运算符 `**` 合并两个字典。</span><br><span class="line"></span><br><span class="line">  ```python</span><br><span class="line">  dict_1 = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;dong&quot;</span>&#125;</span><br><span class="line">  dict_2 = &#123;<span class="string">&quot;id&quot;</span>: <span class="number">12937728351568141336</span>&#125;</span><br><span class="line">  dict_3 = &#123;**dict_1, **dict_2&#125;</span><br><span class="line">  <span class="built_in">print</span>(dict_3)  <span class="comment"># &#123;&#x27;name&#x27;: &#x27;dong&#x27;, &#x27;id&#x27;: 12937728351568141336&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 二、命名空间与作用域</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 2.1 命名空间</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### 2.1.1 概述</span></span><br><span class="line"></span><br><span class="line">- 命名空间（`Namespace`）是从名称到对象的映射，大部分命名空间是通过 **字典** 来实现的（内置命名空间不是由字典实现，而是由 `builtins` 模块实现）。</span><br><span class="line"></span><br><span class="line">- **作用**：命名空间提供了一种在项目中避免名字冲突的方法。各个命名空间是独立的，没有任何关系的，所以同一个命名空间中不能有重名，但不同的命名空间可以重名且相互没有任何影响。</span><br><span class="line"></span><br><span class="line"><span class="comment">### 2.1.2 分类</span></span><br><span class="line"></span><br><span class="line">- `Python` 命名空间可分为 `<span class="number">3</span>` 类，不同的命名空间也具有不同的生命周期。</span><br><span class="line"></span><br><span class="line">  &lt;div align=center&gt;</span><br><span class="line">    &lt;img src=<span class="string">&quot;https://fastly.jsdelivr.net/gh/xindong2020/Mr.DONG_PicBed/Python/11/01.png&quot;</span> height=<span class="string">&quot;199&quot;</span>/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#### （1）内置命名空间（built-in names）</span></span><br><span class="line"></span><br><span class="line">- 内置命名空间是 `Python` 自带的命名空间，任何模块都可以访问，包含了像 `<span class="built_in">abs</span>()` 这样的内置函数（`function`）和 `BaseException` 这样的内置异常（`exception`）等。</span><br><span class="line"></span><br><span class="line">  - `builtins` 模块就是内置命名空间。使用下列代码即可查看 `builtins` 模块中的属性、方法、类型组成的列表。</span><br><span class="line"></span><br><span class="line">    ```python</span><br><span class="line">    <span class="keyword">import</span> builtins</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">dir</span>(builtins))</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>生命周期：内置命名空间在 <code>Python</code> 解释器启动时被创建，在解释器终止时被删除。</p>
</li>
</ul>
<h4><span id="2全局命名空间global-names">（2）全局命名空间（global names）</span></h4>
<ul>
<li>
<p>全局命名空间记录了 <strong>模块</strong> 中定义的对象，包含模块中定义的函数、类、其他导入的模块、模块级的变量与常量。</p>
<ul>
<li>解释器会为程序中 <code>import</code> 加载的模块创建一个全局命名空间。</li>
</ul>
</li>
<li>
<p><code>globals()</code> 内置函数会以字典形式返回 <strong>当前模块</strong> 的 <strong>全局命名空间</strong>。</p>
</li>
<li>
<p>生命周期：一个模块的全局命名空间在这个模块被 <code>import</code> 的时候创建，并且模块的全局命名空间会一直存在，直到解释器终止。</p>
</li>
</ul>
<h4><span id="3局部命名空间local-names">（3）局部命名空间（local names）</span></h4>
<ul>
<li>
<p>局部命名空间，也称为本地命名空间，是每个 <strong>函数</strong> 所拥有的命名空间，记录了函数中定义的所有变量，包括函数的入参、内部定义的局部变量。</p>
</li>
<li>
<p><code>locals()</code> 内置函数会以字典形式返回 <strong>当前函数</strong> 的 <strong>局部命名空间</strong>。该函数需要在函数内部调用。</p>
</li>
<li>
<p><code>locals()</code> 内置函数在函数外的使用效果等同于 <code>globals()</code> 内置函数。</p>
</li>
<li>
<p>生命周期：局部命名空间在一个函数被调用的时候创建。如果这个函数 <code>return</code> 或 <code>raise</code> 了一个不由该函数处理的异常，则该命名空间被删除。</p>
<ul>
<li><strong>注</strong>：每个递归调用都有它们自己的局部命名空间。</li>
</ul>
</li>
</ul>
<h3><span id="213-命名空间查找-创建-销毁顺序">2.1.3 命名空间查找、创建、销毁顺序</span></h3>
<h4><span id="1命名空间查找顺序">（1）命名空间查找顺序</span></h4>
<ul>
<li>
<p>如果程序执行时使用一个变量 <code>var</code>，那么 <code>Python</code> 查找变量的顺序为：</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>局部的命名空间</mtext><mo>→</mo><mtext>全局命名空间</mtext><mo>→</mo><mtext>内置命名空间</mtext></mrow><annotation encoding="application/x-tex">局部的命名空间 \rightarrow 全局命名空间 \rightarrow 内置命名空间
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">局</span><span class="mord cjk_fallback">部</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">命</span><span class="mord cjk_fallback">名</span><span class="mord cjk_fallback">空</span><span class="mord cjk_fallback">间</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">全</span><span class="mord cjk_fallback">局</span><span class="mord cjk_fallback">命</span><span class="mord cjk_fallback">名</span><span class="mord cjk_fallback">空</span><span class="mord cjk_fallback">间</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">内</span><span class="mord cjk_fallback">置</span><span class="mord cjk_fallback">命</span><span class="mord cjk_fallback">名</span><span class="mord cjk_fallback">空</span><span class="mord cjk_fallback">间</span></span></span></span></span></p>
</li>
<li>
<p>如果按照这个顺序找不到相应的变量，<code>Python</code> 将放弃查找并抛出异常：<code>NameError: name 'var' is not defined</code>。</p>
</li>
</ul>
<h4><span id="2命名空间创建顺序">（2）命名空间创建顺序</span></h4>
<ul>
<li><code>Python</code> 解释器启动 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> 创建内置命名空间 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> 加载模块 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> 创建全局命名空间 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> 函数被调用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> 创建局部命名空间。</li>
</ul>
<h4><span id="3命名空间销毁顺序">（3）命名空间销毁顺序</span></h4>
<ul>
<li>函数调用结束 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> 销毁函数对应的局部命名空间 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> <code>Python</code> 解释器终止 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> 销毁全局命名空间 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> 销毁内置命名空间。</li>
</ul>
<h3><span id="214-相关内置函数">2.1.4 相关内置函数</span></h3>
<h4><span id="1eval">（1）eval</span></h4>
<ul>
<li>
<p>格式：<code>eval(expression[, globals[, locals]])</code>，用于执行一个字符串形式的表达式 <code>expression</code>，并 <strong>返回执行结果</strong>。</p>
<ul>
<li>
<p><code>expression</code>：字符串，内容为表达式。</p>
</li>
<li>
<p><code>globals</code>：字典，默认使用当前作用域的全局命名空间。</p>
</li>
<li>
<p><code>locals</code>：字典，默认使用当前作用域的局部命名空间。</p>
<ul>
<li>如果提供了 <code>globals</code> 参数，而 <code>locals</code> 参数被忽略，那么它将会取与 <code>globals</code> 相同的值。</li>
</ul>
</li>
</ul>
</li>
<li>
<p>如果 <code>globals</code> 与 <code>locals</code> 参数都为空，那么将遵循命名空间的查找顺序查找是否存在变量；如果提供了 <code>globals</code> 参数，而 <code>locals</code> 参数为空，则仅查找 <code>globals</code> 参数中是否存在变量；如果两个参数都不为空，先查找 <code>locals</code> 参数，再查找 <code>globals</code> 参数。如果在指定的命名空间中没有查找到相关变量，会抛出异常 <code>NameError: name 'xxx' is not defined</code>。</p>
</li>
<li>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">  a = <span class="number">1</span></span><br><span class="line">  b = <span class="number">2</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">      a = <span class="number">3</span></span><br><span class="line">      <span class="built_in">print</span>(<span class="built_in">eval</span>(<span class="string">&quot;a + b&quot;</span>))  <span class="comment"># 5</span></span><br><span class="line">      <span class="built_in">print</span>(<span class="built_in">eval</span>(<span class="string">&quot;a + b&quot;</span>, &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">4</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">5</span>&#125;))  <span class="comment"># 9</span></span><br><span class="line">      <span class="built_in">print</span>(<span class="built_in">eval</span>(<span class="string">&quot;a + b&quot;</span>, &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">6</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">7</span>&#125;, &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">8</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">9</span>&#125;))  <span class="comment"># 17</span></span><br><span class="line">      <span class="built_in">print</span>(<span class="built_in">eval</span>(<span class="string">&quot;a + b&quot;</span>, &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">6</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">7</span>&#125;, &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">8</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">9</span>&#125;))  <span class="comment"># 15</span></span><br><span class="line">      <span class="built_in">print</span>(<span class="built_in">eval</span>(<span class="string">&quot;a + b&quot;</span>, <span class="literal">None</span>, &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">8</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">9</span>&#125;))  <span class="comment"># 10</span></span><br><span class="line">  </span><br><span class="line">  func()</span><br><span class="line"></span><br><span class="line"><span class="comment">#### （2）exec</span></span><br><span class="line"></span><br><span class="line">- 格式：`<span class="built_in">exec</span>(<span class="built_in">object</span>[, <span class="built_in">globals</span>[, <span class="built_in">locals</span>]])`，传入 `<span class="built_in">exec</span>` 函数的 `<span class="built_in">object</span>` 实参可以是 **字符串**，也可以是 **字节码对象**。通常 `<span class="built_in">exec</span>` 函数配合 `<span class="built_in">compile</span>` 函数来使用。**无返回值**。</span><br><span class="line"></span><br><span class="line">  - `<span class="built_in">object</span>` 可以是字符串或者字节码对象。</span><br><span class="line"></span><br><span class="line">    - 如果 `<span class="built_in">object</span>` 实参是字符串则会被 `<span class="built_in">exec</span>` 函数编译并执行。</span><br><span class="line"></span><br><span class="line">    - 如果是字节码对象则会被直接执行。</span><br><span class="line"></span><br><span class="line">  - `<span class="built_in">globals</span>`：字典，默认使用当前作用域的全局命名空间。</span><br><span class="line"></span><br><span class="line">  - `<span class="built_in">locals</span>`：字典，默认使用当前作用域的局部命名空间。</span><br><span class="line"></span><br><span class="line">- 如果 `<span class="built_in">globals</span>` 与 `<span class="built_in">locals</span>` 参数都为空，那么将遵循命名空间的查找顺</span><br><span class="line">序查找是否存在变量；如果提供了 `<span class="built_in">globals</span>` 参数，而 `<span class="built_in">locals</span>` 参数为空，则仅查找 `<span class="built_in">globals</span>` 参数中是否存在变量；如果两个参数都不为空，先查找 `<span class="built_in">locals</span>` 参数，再查找 `<span class="built_in">globals</span>` 参数。如果在指定的命名空间中没有查找到相关变量，会抛出异常 `NameError: name <span class="string">&#x27;xxx&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined`。</span><br><span class="line"></span><br><span class="line"><span class="comment">#### （3）eval 和 exec 区别</span></span><br><span class="line"></span><br><span class="line">- `<span class="built_in">eval</span>` 函数返回表达式执行后的结果，而 `<span class="built_in">exec</span>` 函数没有返回值。</span><br><span class="line"></span><br><span class="line">- `<span class="built_in">eval</span>` 函数只能执行单个表达式，而 `<span class="built_in">exec</span>` 函数可以执行代码块。例：</span><br><span class="line"></span><br><span class="line">  ```python</span><br><span class="line">  str_exec = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">  import random</span></span><br><span class="line"><span class="string">  for i in range(3):</span></span><br><span class="line"><span class="string">      num = random.randint(-10, 10)</span></span><br><span class="line"><span class="string">      if num &gt; 0:</span></span><br><span class="line"><span class="string">          print(pow(2, num))</span></span><br><span class="line"><span class="string">      else:</span></span><br><span class="line"><span class="string">          print(pow(2, num) * 100)</span></span><br><span class="line"><span class="string">  &quot;&quot;&quot;</span></span><br><span class="line">  <span class="built_in">exec</span>(str_exec)</span><br><span class="line">  <span class="comment"># 25.0</span></span><br><span class="line">  <span class="comment"># 6.25</span></span><br><span class="line">  <span class="comment"># 256</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 2.2 作用域</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### 2.2.1 概述</span></span><br><span class="line"></span><br><span class="line">- `Python` 作用域就是一个程序可以直接访问命名空间的正文区域。</span><br><span class="line"></span><br><span class="line">- `Python` 程序中，直接访问一个变量，会从内到外依次访问所有的作用域直到找到，否则会报未定义的错误。</span><br><span class="line"></span><br><span class="line">- 变量并不是在哪个位置都可以访问的，访问权限取决于这个变量是在哪里赋值的，也就是在哪个作用域内的。</span><br><span class="line"></span><br><span class="line">- 变量的作用域决定了在哪一部分程序可以访问哪个特定的变量名称。</span><br><span class="line"></span><br><span class="line">- 循环语句、条件语句都不会引入新的作用域，只有 **模块**、**类**、**函数**（`<span class="keyword">def</span>`、`<span class="keyword">lambda</span>`）和 **推导式** 会引入新的作用域。例：</span><br><span class="line"></span><br><span class="line">  ```python</span><br><span class="line">  <span class="comment"># 循环语句不会引入新的作用域</span></span><br><span class="line">  lst = []</span><br><span class="line">  <span class="keyword">for</span> e <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>):</span><br><span class="line">      lst.append(e ** <span class="number">2</span>)</span><br><span class="line">  <span class="built_in">print</span>(e)  <span class="comment"># 9</span></span><br><span class="line">  <span class="comment"># 推导式会引入新的作用域</span></span><br><span class="line">  lst = [i ** <span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>)]</span><br><span class="line">  <span class="built_in">print</span>(i)  <span class="comment"># NameError: name &#x27;i&#x27; is not defined</span></span><br><span class="line">  <span class="comment"># 如果想使用推导式中的 i，可以 range(1, 10)[-1]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="222-分类">2.2.2 分类</span></h3>
<ul>
<li><code>Python</code> 的作用域一共有 <code>4</code> 种（<code>LEGB</code> 作用域）</li>
</ul>
<h4><span id="1llocal局部作用域">（1）L（Local）局部作用域</span></h4>
<ul>
<li>
<p>最内层，包含局部变量，例：函数 / 方法内部。</p>
</li>
<li>
<p>在函数内部创建的变量属于该函数的局部作用域，并且只能在该函数内部使用。</p>
</li>
<li>
<p>默认情况下局部是无法修改全局变量的。例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">  lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">      lst[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">      <span class="built_in">print</span>(lst)  <span class="comment"># [100, 2, 3]</span></span><br><span class="line">      <span class="built_in">print</span>(<span class="built_in">id</span>(lst[<span class="number">0</span>]))  <span class="comment"># 140720425284496</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="built_in">print</span>(lst)  <span class="comment"># [1, 2, 3]</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">id</span>(lst[<span class="number">0</span>]))  <span class="comment"># 140720425281328</span></span><br><span class="line">  func()</span><br><span class="line"></span><br><span class="line"><span class="comment">#### （2）E（Enclosing）闭包函数外函数作用域</span></span><br><span class="line"></span><br><span class="line">- **闭包函数** 外，外部函数内的作用域叫做 `Enclosing` 作用域。</span><br><span class="line"></span><br><span class="line">- 在一个外函数中定义了一个内函数，内函数中调用了外函数中定义的变量，并且外函数的返回值是内函数的引用，这样就构成了一个 **闭包函数**。例：</span><br><span class="line"></span><br><span class="line">  ```python</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">outer</span>():</span><br><span class="line">      name = <span class="string">&quot;dong&quot;</span></span><br><span class="line">  </span><br><span class="line">      <span class="keyword">def</span> <span class="title function_">inner</span>():</span><br><span class="line">          <span class="built_in">print</span>(name)</span><br><span class="line">  </span><br><span class="line">      <span class="keyword">return</span> inner</span><br><span class="line">  </span><br><span class="line">  outer()()  <span class="comment"># 输出：dong</span></span><br><span class="line">  </span><br><span class="line">  - `name = <span class="string">&quot;dong&quot;</span>` 和 `<span class="keyword">return</span> inner` 的作用域就是 `Enclosing` 作用域。</span><br><span class="line"></span><br><span class="line"><span class="comment">#### （3）G（Global）全局作用域</span></span><br><span class="line"></span><br><span class="line">- 模块文件中声明的变量，即模块级别的变量，具有全局作用域。</span><br><span class="line"></span><br><span class="line">- 模块的全局变量就是一个模块对象的属性，仅限于单个模块文件中。</span><br><span class="line"></span><br><span class="line"><span class="comment">#### （4）B （Built-in） 内置作用域</span></span><br><span class="line"></span><br><span class="line">- 系统内解释器定义的变量，例：预定义在 `builtin` 模块内的变量（定义在模块内、类和函数之外）。</span><br><span class="line"></span><br><span class="line"><span class="comment">### 2.2.3 搜索顺序</span></span><br><span class="line"></span><br><span class="line">- `Python` 以 `L` $\rightarrow$ `E` $\rightarrow$ `G` $\rightarrow$ `B` 的搜索顺序查找变量，即：局部作用域搜索不到，便会去闭包函数外的函数中搜索，再搜索不到就会去全局作用域搜索，最后搭配内置作用域中搜索。如果所有作用域都搜索不到，就会抛出异常 `NameError: name <span class="string">&#x27;xxx&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined`。</span><br><span class="line"></span><br><span class="line">- `Python` 只会从当前作用域开始搜索，而且不会向更深层搜索。</span><br><span class="line"></span><br><span class="line">- 示例：</span><br><span class="line"></span><br><span class="line">  ```python</span><br><span class="line">  a = <span class="number">10</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">      <span class="comment"># 因为局部作用域中定义了 a，所以就不会使用全局的 a</span></span><br><span class="line">      <span class="comment"># 局部先使用了 a：a * 10，后定义了 a：a = a * 10</span></span><br><span class="line">      <span class="comment"># 所以报错变量 a 在引用前还没有定义</span></span><br><span class="line">      a = a * <span class="number">10</span>  </span><br><span class="line">      <span class="keyword">return</span> a</span><br><span class="line">  </span><br><span class="line">  <span class="comment"># UnboundLocalError: local variable &#x27;a&#x27; referenced before assignment</span></span><br><span class="line">  func()</span><br><span class="line"></span><br><span class="line"><span class="comment">### 2.2.4 全局变量和局部变量</span></span><br><span class="line"></span><br><span class="line">- 定义在函数内部的变量拥有一个局部作用域（`Local`），被叫做 **局部变量**。</span><br><span class="line"></span><br><span class="line">- 闭包函数外函数（`Enclosing`）包含了非局部（`non-local`）且非全局（`non-<span class="keyword">global</span>`）的变量。</span><br><span class="line"></span><br><span class="line">- 定义在函数外的拥有全局作用域（`Global`）的变量，被称为 **全局变量**。</span><br><span class="line"></span><br><span class="line"><span class="comment">### 2.2.5 global 和 nonlocal 关键字</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#### （1）global</span></span><br><span class="line"></span><br><span class="line">- 在普通函数中，虽然可以直接使用全局变量，但是不可以直接修改全局变量。从变量的作用域来说，一旦修改全局变量，那么 `Python` 就会创建并使用一个同名的局部变量。因此，如果需要在普通函数中修改全局变量，需要使用 `<span class="keyword">global</span>` 关键字指定当前变量使用的是外部的全局变量。示例：</span><br><span class="line"></span><br><span class="line">  ```python</span><br><span class="line">  a = <span class="number">10</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">      <span class="keyword">global</span> a</span><br><span class="line">      a = a * <span class="number">10</span></span><br><span class="line">      <span class="keyword">return</span> a</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">print</span>(func())  <span class="comment"># 100</span></span><br><span class="line">  <span class="built_in">print</span>(a)  <span class="comment"># 100</span></span><br><span class="line"></span><br><span class="line">- `<span class="keyword">global</span>` 关键字可以用于局部作用域（`Local`）和闭包函数外函数（`Enclosing`）作用域。</span><br><span class="line"></span><br><span class="line">  - 示例 `<span class="number">1</span>`：</span><br><span class="line"></span><br><span class="line">    ```python</span><br><span class="line">    num = <span class="number">6</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">outer</span>():</span><br><span class="line">        <span class="keyword">global</span> num</span><br><span class="line">        num *= <span class="number">111</span></span><br><span class="line">    </span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">inner</span>():</span><br><span class="line">            <span class="built_in">print</span>(num)</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> inner</span><br><span class="line">    </span><br><span class="line">    outer()()   <span class="comment"># 666</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>示例 <code>2</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">666</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">outer</span>():</span><br><span class="line">    num = <span class="number">888</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>():</span><br><span class="line">        <span class="keyword">global</span> num</span><br><span class="line">        num += <span class="number">111</span></span><br><span class="line">        <span class="built_in">print</span>(num)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line">outer()()	<span class="comment"># 777</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>当 <code>global</code> 关键字指定的变量在全局作用域中未定义时，<code>Python</code> 会自动创建一个同名的全局变量。示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">outer</span>():</span><br><span class="line">    <span class="keyword">global</span> num</span><br><span class="line">    num = <span class="number">888</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>():</span><br><span class="line">        <span class="built_in">print</span>(num)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line">outer()()   <span class="comment"># 888</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4><span id="2nonlocal">（2）nonlocal</span></h4>
<ul>
<li>
<p>如果你希望通过定义在内部的函数去修改其外部函数中的变量（非全局变量），那么需要使用 <code>nonlocal</code> 声明指定的变量不是局部变量。示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">def</span> <span class="title function_">outer</span>():</span><br><span class="line">      num = <span class="number">888</span></span><br><span class="line">  </span><br><span class="line">      <span class="keyword">def</span> <span class="title function_">inner</span>():</span><br><span class="line">          <span class="keyword">nonlocal</span> num</span><br><span class="line">          num += <span class="number">111</span></span><br><span class="line">          <span class="built_in">print</span>(num)</span><br><span class="line">  </span><br><span class="line">      <span class="keyword">return</span> inner</span><br><span class="line">  </span><br><span class="line">  outer()()	<span class="comment"># 999</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 三、常用高阶函数</span></span><br><span class="line"></span><br><span class="line">- 高阶函数就是参数或（和）返回值为函数的函数。</span><br><span class="line"></span><br><span class="line"><span class="comment">## 3.1 filter</span></span><br><span class="line"></span><br><span class="line">- 格式：`<span class="built_in">filter</span>(function, iterable)`，`Python` 内置函数。</span><br><span class="line"></span><br><span class="line">- 功能：使用函数 `function` 对可迭代对象 `iterable` 中的数据进行过滤，将 `iterable` 中的每个元素作为参数传递给 `function`，根据返回结果进行判断，将判断为 `<span class="literal">True</span>` 的元素构建成新的迭代器并返回。</span><br><span class="line"></span><br><span class="line">- `function` 是必需参数，可以为仅接收一个实参的函数或 `<span class="literal">None</span>`。如果 `function` 为 `<span class="literal">None</span>`，直接判断 `iterable` 中的元素，将判断为 `<span class="literal">True</span>` 的元素构建成新的迭代器并返回。等价于 `<span class="built_in">filter</span>(<span class="built_in">bool</span>, iterable)`，即 `function` 设置成内置函数 `<span class="built_in">bool</span>()`。</span><br><span class="line"></span><br><span class="line">- `<span class="built_in">filter</span>(function, iterable)` 相当于一个生成器表达式：</span><br><span class="line"></span><br><span class="line">  - 当 `function` 参数不为 `<span class="literal">None</span>` 时，等价于：</span><br><span class="line"></span><br><span class="line">    ```python</span><br><span class="line">    (item <span class="keyword">for</span> item <span class="keyword">in</span> iterable <span class="keyword">if</span> function(item))</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>当 <code>function</code> 为 <code>None</code> 时，等价于：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(item <span class="keyword">for</span> item <span class="keyword">in</span> iterable <span class="keyword">if</span> item)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>示例：</p>
<pre><code class="language-python">lst = [5, 2, 7, &quot;dong&quot;, None, 0, True, False, [], &#123;&quot;age&quot;: 18&#125;]

# function 参数设置为 None，等价于 filter(bool, iterable)
filter_lst = filter(None, lst)
print(filter_lst)  # &lt;filter object at 0x000001B4BC221820&gt;
print(list(filter_lst))  # [5, 2, 7, 'dong', True, &#123;'age': 18&#125;]

# function 参数设置为内置函数 str
filter_lst = filter(str, lst)
print(filter_lst)  # &lt;filter object at 0x000001B4BC2210A0&gt;
print(list(filter_lst))  # [5, 2, 7, 'dong', None, 0, True, False, [], &#123;'age': 18&#125;]

# function 参数设置为 lambda 表达式
filter_lst = filter(lambda item: len(str(item)) &gt; 2, lst)
print(filter_lst)  # &lt;filter object at 0x000001B4BC221820&gt;
print(list(filter_lst))  # ['dong', None, True, False, &#123;'age': 18&#125;]

# function 参数设置为自定义函数
def func(item):
  if isinstance(item, int):  # True 和 False 都是 int 类型，因为 bool 是 int 子类
      return item - 2
  elif item:
      return len(item) &gt; 2
  else:
      return item

filter_lst = filter(func, lst)
print(filter_lst)  # &lt;filter object at 0x000001B4BC221160&gt;
print(list(filter_lst))  # [5, 7, 'dong', 0, True, False]

</code></pre>
</li>
</ul>
<h2><span id="32-map">3.2 map</span></h2>
<ul>
<li>
<p>格式：<code>map(function, *iterables)</code>，<code>Python</code> 内置函数。</p>
</li>
<li>
<p>功能：将可迭代对象 <code>iterable</code> 中每一项作为参数调用函数 <code>function</code>，返回包含每次 <code>function</code> 函数返回值的迭代器。</p>
<ul>
<li>
<p><code>function</code>：函数，可以是 <code>lambda</code> 函数、内置函数、自定义函数等，参数个数要与 <code>iterable</code> 相同。</p>
</li>
<li>
<p><code>*iterables</code>：可迭代对象，不定长参数，当有多个可迭代对象时，最短的可迭代对象耗尽则整个迭代就结束。</p>
</li>
</ul>
</li>
<li>
<p>示例：</p>
<pre><code class="language-python">lst = [5, 2, 7, 1, 9]
tup = (2, 1, 9, 5, 8, 7)

# function 设置为 lambda 表达式
print(list(map(lambda x: x * 10, tup)))  # [20, 10, 90, 50, 80, 70]
print(list(map(lambda x, y: x * y, tup, lst)))  # [10, 2, 63, 5, 72]

# function 设置为内置函数
print(list(map(bin, lst)))  # ['0b101', '0b10', '0b111', '0b1', '0b1001']
print(list(map(min, tup, lst)))  # [2, 1, 7, 1, 8]

# function 设置为自定义函数
def func(param1, param2):
  if param1 &gt; param2:
      return pow(param1, param2) % 10
  else:
      return pow(param2, param1) % 10

print(list(map(func, tup, lst)))  # [5, 2, 9, 5, 1]

</code></pre>
</li>
</ul>
<h2><span id="33-reduce">3.3 reduce</span></h2>
<ul>
<li>
<p>格式：<code>reduce(function, iterable[, initial])</code>，在 <code>Python2</code> 中 <code>reduce</code> 函数是内置函数，而在 <code>Python3</code> 中 <code>reduce</code> 函数被放置到 <code>functools</code> 模块中，所以在使用的时候需要引入 <code>functools</code> 模块来调用 <code>reduce</code> 函数：<code>from functools import reduce</code>。</p>
<ul>
<li>
<p><code>function</code>：必需参数，要求是能够接收两个实参的函数。</p>
</li>
<li>
<p><code>iterable</code>：必需参数，可迭代对象。</p>
</li>
<li>
<p><code>initial</code>：可选参数，初始值。</p>
</li>
</ul>
</li>
<li>
<p><code>reduce</code> 函数的执行流程是 ：在迭代 <code>iterable</code> 的过程中，首先把前两个元素（只能两个）传给函数，然后把函数执行得到的结果和第三个元素作为两个实参传给函数，函数执行后得到的结果又和第四个元素作为两个实参传给函数，依此类推，最终 <strong>返回一个函数计算结果</strong>。</p>
<ul>
<li>
<p>当指定 <code>initial</code> 参数时，先把 <code>initial</code> 值和 <code>iterable</code> 的第一个元素作为两个实参传给函数。</p>
</li>
<li>
<p>如果 <code>iterable</code> 为空，则函数返回 <code>initial</code>，如果 <code>initial</code> 没有指定则抛出异常 <code>TypeError: reduce() of empty sequence with no initial value</code>。</p>
</li>
<li>
<p>如果 <code>iterable</code> 只有一个元素且没有指定 <code>initial</code>，则返回该元素。</p>
</li>
</ul>
</li>
<li>
<p>示例：</p>
<pre><code class="language-python">from functools import reduce
tup = (2, 6, 9, 5, 2, 7)
# function 设置为 lambda 表达式
print(reduce(lambda x, y: x + y, tup))      # 31
print(reduce(lambda x, y: x + y, tup, 100)) # 131

# function 设置为内置函数
print(reduce(max, tup))     # 9
print(reduce(max, tup, 10)) # 10

# function 设置为自定义函数
def func(num1, num2):
  return num1 if num1 &gt; num2 else num2

print(reduce(func, tup))        # 9
print(reduce(func, tup, 10))    # 10

</code></pre>
</li>
</ul>
<ol class="series-items"><li><a href="/posts/python/python3/01" title="Python3 入门">Python3 入门</a></li><li><a href="/posts/python/python3/02" title="Python3 基本数据类型">Python3 基本数据类型</a></li><li><a href="/posts/python/python3/03" title="Python3 序列（列表、元组）">Python3 序列（列表、元组）</a></li><li><a href="/posts/python/python3/04" title="Python3 序列（字符串）">Python3 序列（字符串）</a></li><li><a href="/posts/python/python3/05" title="Python3 字典和集合">Python3 字典和集合</a></li><li><a href="/posts/python/python3/06" title="Python3 浅拷贝和深拷贝">Python3 浅拷贝和深拷贝</a></li><li><a href="/posts/python/python3/07" title="Python3 流程控制">Python3 流程控制</a></li><li><a href="/posts/python/python3/08" title="Python3 迭代问题">Python3 迭代问题</a></li><li><a href="/posts/python/python3/09" title="Python3 推导式 & random 模块">Python3 推导式 & random 模块</a></li><li><a href="/posts/python/python3/10" title="Python3 函数（上）">Python3 函数（上）</a></li><li><a href="/posts/python/python3/11" title="Python3 函数（下）">Python3 函数（下）</a></li><li><a href="/posts/python/python3/12" title="Python3 面向对象编程（上）">Python3 面向对象编程（上）</a></li><li><a href="/posts/python/python3/13" title="Python3 面向对象编程（下）">Python3 面向对象编程（下）</a></li></ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://xindong2020.github.io">DONG</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://xindong2020.github.io/posts/python/python3/11">http://xindong2020.github.io/posts/python/python3/11</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://xindong2020.github.io" target="_blank">DXQ冬心淇</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Python3/">Python3</a></div><div class="post-share"><div class="addtoany"><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_wechat"></a><a class="a2a_button_sina_weibo"></a><a class="a2a_button_facebook_messenger"></a><a class="a2a_button_email"></a><a class="a2a_button_copy_link"></a><a class="a2a_dd" target="_blank" rel="noopener" href="https://www.addtoany.com/share"></a></div></div><script async="async" src="https://static.addtoany.com/menu/page.js"></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related  no-desc" href="/posts/python/python3/10" title="Python3 函数（上）"><img class="cover" src="/img/cover50.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Python3 函数（上）</div></div></div></a><a class="pagination-related  no-desc" href="/posts/python/python3/12" title="Python3 面向对象编程（上）"><img class="cover" src="/img/cover31.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Python3 面向对象编程（上）</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related no-desc" href="/posts/python/python3/01" title="Python3 入门"><img class="cover" src="/img/cover37.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-01</div><div class="info-item-2">Python3 入门</div></div></div></a><a class="pagination-related no-desc" href="/posts/python/python3/02" title="Python3 基本数据类型"><img class="cover" src="/img/cover19.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-02</div><div class="info-item-2">Python3 基本数据类型</div></div></div></a><a class="pagination-related no-desc" href="/posts/python/python3/03" title="Python3 序列（列表、元组）"><img class="cover" src="/img/cover08.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-03</div><div class="info-item-2">Python3 序列（列表、元组）</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/logo.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">DONG</div><div class="author-info-description">冬心淇</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">21</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xindong2020"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/xindong2020" target="_blank" title="Github"><i class="iconfont icon-github"></i></a><a class="social-icon" href="mailto:641743220@qq.com" target="_blank" title="Email"><i class="iconfont icon-icon-email"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到冬心淇的秘密基地</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">一、封包、解包</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">1.1 封包（pack）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">1.2 解包（unpack）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">1.2.1 赋值多变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">（1）普通序列赋值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">（2）增强序列赋值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">（3）接收函数返回值</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">1.2.3 遍历字典</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">1.2.4 * 和 ** 解包运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">（2）全局命名空间（global names）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">（3）局部命名空间（local names）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">2.1.3 命名空间查找、创建、销毁顺序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">（1）命名空间查找顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">（2）命名空间创建顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">（3）命名空间销毁顺序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">2.1.4 相关内置函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">（1）eval</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">2.2.2 分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">（1）L（Local）局部作用域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">（2）nonlocal</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">3.2 map</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">3.3 reduce</span></a></li></ol></li></ol></div></div><div class="card-widget card-post-series"><div class="item-headline"><i class="fa-solid fa-layer-group"></i><span>系列文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/13" title="Python3 面向对象编程（下）"><img src="/img/cover07.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 面向对象编程（下）"></a><div class="content"><a class="title" href="/posts/python/python3/13" title="Python3 面向对象编程（下）">Python3 面向对象编程（下）</a><time datetime="2024-12-12T16:00:00.000Z" title="发表于 2024-12-13 00:00:00">2024-12-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/12" title="Python3 面向对象编程（上）"><img src="/img/cover31.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 面向对象编程（上）"></a><div class="content"><a class="title" href="/posts/python/python3/12" title="Python3 面向对象编程（上）">Python3 面向对象编程（上）</a><time datetime="2024-12-11T16:00:00.000Z" title="发表于 2024-12-12 00:00:00">2024-12-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/11" title="Python3 函数（下）"><img src="/img/cover08.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 函数（下）"></a><div class="content"><a class="title" href="/posts/python/python3/11" title="Python3 函数（下）">Python3 函数（下）</a><time datetime="2024-12-10T16:00:00.000Z" title="发表于 2024-12-11 00:00:00">2024-12-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/10" title="Python3 函数（上）"><img src="/img/cover50.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 函数（上）"></a><div class="content"><a class="title" href="/posts/python/python3/10" title="Python3 函数（上）">Python3 函数（上）</a><time datetime="2024-12-09T16:00:00.000Z" title="发表于 2024-12-10 00:00:00">2024-12-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/09" title="Python3 推导式 &amp; random 模块"><img src="/img/cover38.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 推导式 &amp; random 模块"></a><div class="content"><a class="title" href="/posts/python/python3/09" title="Python3 推导式 &amp; random 模块">Python3 推导式 &amp; random 模块</a><time datetime="2024-12-08T16:00:00.000Z" title="发表于 2024-12-09 00:00:00">2024-12-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/08" title="Python3 迭代问题"><img src="/img/cover33.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 迭代问题"></a><div class="content"><a class="title" href="/posts/python/python3/08" title="Python3 迭代问题">Python3 迭代问题</a><time datetime="2024-12-07T16:00:00.000Z" title="发表于 2024-12-08 00:00:00">2024-12-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/07" title="Python3 流程控制"><img src="/img/cover15.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 流程控制"></a><div class="content"><a class="title" href="/posts/python/python3/07" title="Python3 流程控制">Python3 流程控制</a><time datetime="2024-12-06T16:00:00.000Z" title="发表于 2024-12-07 00:00:00">2024-12-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/06" title="Python3 浅拷贝和深拷贝"><img src="/img/cover13.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 浅拷贝和深拷贝"></a><div class="content"><a class="title" href="/posts/python/python3/06" title="Python3 浅拷贝和深拷贝">Python3 浅拷贝和深拷贝</a><time datetime="2024-12-05T16:00:00.000Z" title="发表于 2024-12-06 00:00:00">2024-12-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/05" title="Python3 字典和集合"><img src="/img/cover24.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 字典和集合"></a><div class="content"><a class="title" href="/posts/python/python3/05" title="Python3 字典和集合">Python3 字典和集合</a><time datetime="2024-12-04T16:00:00.000Z" title="发表于 2024-12-05 00:00:00">2024-12-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/04" title="Python3 序列（字符串）"><img src="/img/cover09.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 序列（字符串）"></a><div class="content"><a class="title" href="/posts/python/python3/04" title="Python3 序列（字符串）">Python3 序列（字符串）</a><time datetime="2024-12-03T16:00:00.000Z" title="发表于 2024-12-04 00:00:00">2024-12-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/03" title="Python3 序列（列表、元组）"><img src="/img/cover08.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 序列（列表、元组）"></a><div class="content"><a class="title" href="/posts/python/python3/03" title="Python3 序列（列表、元组）">Python3 序列（列表、元组）</a><time datetime="2024-12-02T16:00:00.000Z" title="发表于 2024-12-03 00:00:00">2024-12-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/02" title="Python3 基本数据类型"><img src="/img/cover19.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 基本数据类型"></a><div class="content"><a class="title" href="/posts/python/python3/02" title="Python3 基本数据类型">Python3 基本数据类型</a><time datetime="2024-12-01T16:00:00.000Z" title="发表于 2024-12-02 00:00:00">2024-12-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/01" title="Python3 入门"><img src="/img/cover37.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 入门"></a><div class="content"><a class="title" href="/posts/python/python3/01" title="Python3 入门">Python3 入门</a><time datetime="2024-11-30T16:00:00.000Z" title="发表于 2024-12-01 00:00:00">2024-12-01</time></div></div></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/13" title="Python3 面向对象编程（下）"><img src="/img/cover07.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 面向对象编程（下）"/></a><div class="content"><a class="title" href="/posts/python/python3/13" title="Python3 面向对象编程（下）">Python3 面向对象编程（下）</a><time datetime="2024-12-12T16:00:00.000Z" title="发表于 2024-12-13 00:00:00">2024-12-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/12" title="Python3 面向对象编程（上）"><img src="/img/cover31.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 面向对象编程（上）"/></a><div class="content"><a class="title" href="/posts/python/python3/12" title="Python3 面向对象编程（上）">Python3 面向对象编程（上）</a><time datetime="2024-12-11T16:00:00.000Z" title="发表于 2024-12-12 00:00:00">2024-12-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/11" title="Python3 函数（下）"><img src="/img/cover08.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 函数（下）"/></a><div class="content"><a class="title" href="/posts/python/python3/11" title="Python3 函数（下）">Python3 函数（下）</a><time datetime="2024-12-10T16:00:00.000Z" title="发表于 2024-12-11 00:00:00">2024-12-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/10" title="Python3 函数（上）"><img src="/img/cover50.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 函数（上）"/></a><div class="content"><a class="title" href="/posts/python/python3/10" title="Python3 函数（上）">Python3 函数（上）</a><time datetime="2024-12-09T16:00:00.000Z" title="发表于 2024-12-10 00:00:00">2024-12-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/python/python3/09" title="Python3 推导式 &amp; random 模块"><img src="/img/cover38.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python3 推导式 &amp; random 模块"/></a><div class="content"><a class="title" href="/posts/python/python3/09" title="Python3 推导式 &amp; random 模块">Python3 推导式 &amp; random 模块</a><time datetime="2024-12-08T16:00:00.000Z" title="发表于 2024-12-09 00:00:00">2024-12-09</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;2024 - 2025 By DONG</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.2</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getGiscusTheme = theme => theme === 'dark' ? 'dark' : 'light'

  const createScriptElement = config => {
    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => {
      ele.setAttribute(key, value)
    })
    return ele
  }

  const loadGiscus = (el = document, key) => {
    const mappingConfig = isShuoshuo
      ? { 'data-mapping': 'specific', 'data-term': key }
      : { 'data-mapping': (option && option['data-mapping']) || 'pathname' }

    const giscusConfig = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'xindong2020/xindong2020.github.io',
      'data-repo-id': 'R_kgDOPLvJQw',
      'data-category-id': 'DIC_kwDOPLvJQ84Cs7sp',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      'data-lang': 'zh-CN',
      crossorigin: 'anonymous',
      async: true,
      ...option,
      ...mappingConfig
    }

    const scriptElement = createScriptElement(giscusConfig)

    el.querySelector('#giscus-wrap').appendChild(scriptElement)

    if (isShuoshuo) {
      window.shuoshuoComment.destroyGiscus = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const changeGiscusTheme = theme => {
    const iframe = document.querySelector('#giscus-wrap iframe')
    if (iframe) {
      const message = {
        giscus: {
          setConfig: {
            theme: getGiscusTheme(theme)
          }
        }
      }
      iframe.contentWindow.postMessage(message, 'https://giscus.app')
    }
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if (isShuoshuo) {
    'Giscus' === 'Giscus'
      ? window.shuoshuoComment = { loadComment: loadGiscus }
      : window.loadOtherComment = loadGiscus
    return
  }

  if ('Giscus' === 'Giscus' || !false) {
    if (false) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment = loadGiscus
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/lite/builds/browser.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div></div></body></html>